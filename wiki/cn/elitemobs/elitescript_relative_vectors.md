# Elite 脚本相对向量

## 它们的用途

相对向量是相对于特定但动态位置的向量。

为了更好地解释它们是什么，让我们考虑以下情况：您想将玩家推向 Boss，作为力量的一部分。由于 Boss 和玩家在战斗中都会四处移动，因此不可能依赖特定的向量来完成此效果 - 您需要一个从玩家指向 Boss 的向量。（想象一条从玩家指向 Boss 的短线，带有一个箭头。）

相对向量可以以多种方式使用，无法一一列举，但其中包括：向特定玩家或怪物射击实体（如抛射物）；在玩家身后生成增援；向特定方向射击落下的方块；创建向玩家发射的光线，等等。

## 向量是如何工作的？

如果您不知道或不记得向量是什么或它们是如何工作的，您可以将向量想象成从一个点指向另一个点的箭头。

因此，向量的一个属性是它们的长度。这个长度很重要；对于箭头，这个长度是箭射出的速度，对于试图从特定位置获取偏移点，它是到该点的距离。距离较远的事物将具有较长的向量长度，而距离较近的事物将具有较短的长度。

对于某些机制，您可能不希望依赖两点之间的距离，因为您只想获得一个方向。幸运的是，您可以使用向量归一化，这可以确保方向保持不变，但将长度更改为 1.0。然后，您可以使用倍增器轻松修改向量，直到您对其提供的偏移量或速度感到满意为止。

## 属性

| 值                | 详细信息                                                                                                           | 是否必填？ | 默认值     |
|--------------------|----------------------------------------------------------------------------------------------------------------:|------------------:|--------------|
| `SourceTarget`     | 向量将从其开始的点的 [目标]($language$/elitemobs/elitescript_targets.md)。                                                        | ✅   | `none`      |
| `DestinationTarget` | 向量的终点的 [目标]($language$/elitemobs/elitescript_targets.md)。                                                            | ✅   | `none`      |
| `normalize`        | 设置是否应该对向量进行归一化。                                                                                        | ❌   | `false`     |
| `multiplier`       | 乘以向量的长度。                                                                                                   | ❌   | `1.0`      |
| `offset`           | 允许向此偏移量插入手动固定的偏移量。                                                                                    | ❌   | `none`      |

<div align="center">

<details> 

<summary><b>示例</b></summary>

<div align="left">

```yaml
eliteScript:
  射击鸡:
    事件:
    - EliteMobDamagedByPlayerEvent
    动作:
    - action: 召唤实体
      sValue: 鸡
      目标:
        目标类型: 自身
      相对向量:
        源目标:
          目标类型: 自身
        目标目标:
          目标类型: 直接目标
        归一化: true
        倍增器: 2.0
```

射击一只鸡。

***

```yaml
eliteScript:
  射击箭:
    事件:
    - EliteMobDamagedByPlayerEvent
    动作:
    - action: 召唤实体
      sValue: 箭
      目标:
        目标类型: 自身
      相对向量:
        源目标:
          目标类型: 自身
        目标目标:
          目标类型: 直接目标
        归一化: true
        倍增器: 2.0
```

射击一支箭。

***

```yaml
eliteScript:
  生成增援:
    事件:
    - EliteMobDamagedByPlayerEvent
    动作:
    - action: 召唤实体
      sValue: 僵尸
      目标:
        目标类型: 自身
      相对偏移:
        源目标:
          目标类型: 自身
        目标目标:
          目标类型: 直接目标
        归一化: true
        倍增器: 2.0
```

在玩家身后 2 个方块处生成一个僵尸，相对于 Boss 的位置。

***

```yaml
eliteScript:
  示例:
    事件:
    - EliteMobDamagedByPlayerEvent
    区域:
      形状: 球体
      目标:
        目标类型: 自身生成点
        offset: 0,0,0
        追踪: false
      过滤器: 玩家
      半径: 6
    动作:
    - action: 生成粒子
      repeatEvery: 38
      times: 5
      目标:
        目标类型: 区域_完整
        追踪: false
        覆盖范围: 0.9
      粒子:
      - 粒子: 火焰
        相对向量:
          源目标:
            目标类型: 动作目标
            追踪: true
          目标目标:
            目标类型: 自身生成点
            offset: 0,-0.5,0
        speed: 0.05
```

创建一个动画火焰球体，缩小到生成位置。

</div>

</details>

</div>

### 操作顺序

应用属性时的操作顺序如下：

向量计算 -> `归一化` -> `倍增器` -> `偏移量`





