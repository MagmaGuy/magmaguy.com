好的，我将把输入的文本翻译成简体中文，并保留 Markdown 格式。

```
# 创建 Boss 阶段

Boss 阶段是自定义 Boss 的一个子机制。这个阶段系统非常灵活和强大，因此需要专门的解释，以确保您能充分利用此功能。

### Boss 阶段如何运作？

可以使用以下配置格式将 Boss 阶段添加到 EliteMobs 中的任何自定义 Boss：

```yaml
phases:
- phase_2_boss.yml:0.X
- phase_3_boss.yml:0.Y
```

_**注意：您最初生成的包含所有其他阶段信息的 Boss 将被称为阶段 1 Boss。它不应包含在 phases 条目中。**_

此机制的基本目的是允许管理员在战斗中更改自定义 Boss 的属性。通过使用上述配置格式，您可以在阶段之间完全更改配置文件，这意味着您可以更改 99.99% 的属性 - 例如能力、伤害乘数、生命值乘数、实体类型、伪装、穿戴的盔甲...

为了实现这一点，EliteMobs 会在战斗中删除您的 Boss，并立即将其替换为下一阶段的版本。这个过程是即时的，因此通常非常流畅 - 除非您故意想让它看起来更炫酷。

### 示例

以下是一个示例阶段 Boss：

文件：phase_1_boss.yml

```yaml
isEnabled: true
level: 50
healthMultiplier: 10
entityType: STRAY
powers:
- attack_gravity.yml
phases:
- phase_2_boss.yml:0.60
- phase_3_boss.yml:0.30
```

文件：phase_2_boss.yml

```yaml
isEnabled: true
level: 50
healthMultiplier: 10
entityType: SKELETON
powers:
- attack_gravity.yml
- arrow_fireworks.yml
```

文件：phase_3_boss.yml

```yaml
isEnabled: true
level: 50
healthMultiplier: 10
entityType: WITHER_SKELETON
powers:
- arrow_rain
```

这构成了一个有效的阶段 Boss。如果您生成 phase_1_boss.yml，它将生成一个具有上述属性的流浪者 (Stray)。在生命值被削减到其生命值的 _60%_ 后，它将立即在同一位置被 phase_2_boss.yml 中配置的自定义 Boss 替换，因为配置文件中写着 `- phase_2_boss.yml:0.60`（_phase_2_boss.yml 是该自定义 Boss 的文件名，0.60 是 60% 的生命值_）。_请注意，阶段 2 Boss 生成时将拥有其生命值的 60%，因为这是它切换到该阶段时的生命值。_ Boss 将拥有 phase_2_boss.yml 文件中列出的能力。一旦阶段 2 Boss 的生命值被削减到 30%，它将生成为阶段 3 设置的 Boss。请注意，阶段 3 的能力与之前的能力无关 - 您可以在阶段之间完全更改能力，就像几乎所有其他属性一样。

## 高级

### 继承的机制

以下是阶段之间不会改变的事项列表：

- 链中的第一个阶段 Boss 决定了 Boss 将经历哪些阶段，这意味着您不应该为链中其他 Boss 设置 phases 条目。

- 威胁表/伤害表保持不变，这意味着掉落物分配和高级仇恨系统不受阶段变化的影响。

- 切换阶段基于损失的生命值百分比，这在阶段之间是保留的。这意味着如果您的 Boss 设置为在 50% 生命值时进入阶段 2，那么替换阶段 1 Boss 的 Boss 仍然会处于 50% 生命值。这也意味着每个阶段可以拥有完全不同的生命值量而不会引起问题。

- 如果阶段 Boss 通过默认的脱战 Boss 回复系统恢复到满血，它们会恢复到阶段 1。

- 同时是区域 Boss 的阶段 Boss 在所有阶段共享相同的牵引半径和超时机制，并在重生计时器结束后作为阶段 1 Boss 重生。

#### 警告

以下是一些工作方式可能最初与直觉相反的机制列表：

- 如果阶段 Boss 在任何阶段被杀死，它将掉落该阶段的掉落物。这意味着如果有人设法过快地杀死一个阶段 Boss（一击必杀），它实际上会死亡并掉落该 Boss 文件配置的掉落物，这不一定是最终阶段的掉落物。您可以通过将此阶段 Boss 的所有 Boss 文件的掉落表设置为相同来解决此问题，或者确保您的阶段 Boss 拥有足够的生命值，使其不可能在几次攻击内被杀死。或者，您可以为能够跳过阶段的玩家设置特殊的掉落表。

- 由于阶段 Boss 实际上会在战斗中生成自定义 Boss，因此它们在生成时会执行其完整的生成例程。因此，请注意生成消息和在生成时运行的命令。此外，阶段 Boss 在改变阶段时不会死亡，它们只是被替换为其他东西。这意味着死亡时运行的命令只会为最后一个阶段 Boss 运行，或者在玩家通过造成足够伤害设法跳过阶段时运行。生成时运行的命令可以用于挂钩阶段变化。\*注意：\* 如果阶段 Boss 由于恢复到满血而重生，阶段 1 Boss 的生成消息不会再次发送。

- 阶段 Boss 可以在阶段之间骑乘或停止骑乘。如果 Boss 在坐骑死亡之前被杀死，坐骑将持续到下一阶段。如果 Boss 恢复到满血，坐骑将被删除，Boss 将不再骑乘，除非它被配置为在阶段 1 骑乘一个实体。

- 由于在阶段之间会生成新的自定义 Boss，因此一次性生成机制会在阶段之间和满血恢复时重置。

### 提示与技巧

- 您可以利用装备和实体类型可以在战斗中改变的事实，使 Boss 在整个战斗过程中看起来越来越（或越来越不）危险。

- 尽管可能，除非有特定的设计目标，否则阶段 Boss 的能力最好不要在阶段之间变化太大，因为玩家更有可能享受在整个战斗过程中感觉自然的 progression。

- 您可以使用 onSpawn 命令在阶段之间运行命令。

- 阶段可以用于将 Boss 从近战模式切换到远程模式，反之亦然。

- 阶段 Boss 被设计成拥有大量生命值的强力 Boss。它们通常最适合作为地下城的最终 Boss 遭遇或大型世界 Boss。

- 在设计遭遇时，请记住，增援部队可能不会在阶段之间被玩家杀死。

- Boss 可以拥有任意数量的阶段，但阶段越多，它们所需的生命值就越多，以使每个阶段都重要。
```