[![webapp_banner.jpg](../../../img/wiki/webapp_banner.jpg)](https://magmaguy.com/webapp/webapp.html)

# Что такое червоточины?

Червоточины — это своего рода высокоэффективная портальная система телепортации. Порталы отмечены визуальными эффектами.

# Механика червоточин

Червоточины могут выполнять следующие действия:

*   Проходить через один портал, чтобы достичь портала назначения, и возвращаться из портала назначения обратно к первому.
*   Воспроизводить звук, когда игроки проходят через них
*   Временно ослеплять игроков во время прохождения через них для сглаживания перехода
*   Выталкивать игроков, чтобы избежать попадания в телепортационную петлю
*   Блокировать телепортацию игроков на 5 секунд, чтобы избежать попадания в телепортационную петлю
*   Воспроизводить сложные визуальные эффекты
*   Требовать разрешения на использование червоточины
*   Требовать использование валюты для использования червоточины
*   Уведомлять игроков и администраторов, когда портал назначения недоступен

# Создание червоточины

Червоточины добавляются в виде файлов конфигурации в папку wormholes. Можно создавать вложенные папки, и рекомендуется делать это, если вы добавляете червоточины для конкретных подземелий, в формате \` ~/plugins/EliteMobs/wormholes/dungeonName/dungeonName\_identifier.yml\`.

### Выброс

Крен и тангаж (последние две цифры в координатах) в `location1` и `location2` будут определять, откуда игроки будут выбрасываться из червоточины, когда они будут через нее путешествовать. Давайте рассмотрим этот пример:

`location1: my_world,20,10,20,180,20`

При значении крена `180` игрок будет выбрасываться лицом на север, а при значении тангажа `20` он также будет немного выбрасываться вверх. Если вы хотите, чтобы игрок оставался в том же блоке, что и червоточина, при выбросе, то рекомендуется установить тангаж отрицательным, чтобы игроки не соскальзывали с блока.

## Конфигурация червоточины
Ниже приведен пример допустимой конфигурации червоточины:

```yaml
isEnabled: true
location1: em_primis,1288.5,19,452.5,135,-23
location2: em_primis,1288.5,-39,451.5,180,-1
```

***

<div align="center">

### isEnabled

Указывает, включена ли червоточина.

| Ключ       |       Значения        | По умолчанию |
|-----------|:-------------------:|:-------:|
| `isEnabled` | [Логическое значение](#boolean) | `true`  |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
isEnabled: true
```

</div>

</details>

***

### location1

Указывает первое местоположение для червоточины.

| Ключ       |      Значения       | По умолчанию |
|-----------|:-----------------:|:-------:|
| `location1` | [Строка](#string) |  нет   |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
location1: world_one,50,100,50,0,0
```

</div>

</details>

***

### location2

Указывает второе местоположение для червоточины.

| Ключ         |      Значения       | По умолчанию |
|-------------|:-----------------:|:-------:|
| `location2` | [Строка](#string) |  нет   |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
location2: world_two,100,33,100,0,0
```

</div>

</details>

***

### location1Text

Задает текст для отображения первого местоположения.

| Ключ         |      Значения       | По умолчанию |
|-------------|:-----------------:|:-------:|
| `location1Text` | [Строка](#string) |  нет   |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
location1Text: Потрясающая червоточина в Мире 1
```

<div align="center">

![create_wormhole_location1text.jpg](../../../img/wiki/create_wormhole_location1text.jpg)

</div>

</div>

</details>

***

### location2Text

Задает текст для отображения второго местоположения.

| Ключ         |      Значения       | По умолчанию |
|-------------|:-----------------:|:-------:|
| `location2Text` | [Строка](#string) |  нет   |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
location2Text: Потрясающая червоточина в Мире 2
```

<div align="center">

![create_wormhole_location2text.jpg](../../../img/wiki/create_wormhole_location2text.jpg)

</div>

</div>

</details>

***

### permission

Задает разрешение, необходимое для использования червоточины.

| Ключ         |      Значения       | По умолчанию |
|-------------|:-----------------:|:-------:|
| `permission` | [Строка](#string) |  нет   |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
permission: elitemobs.mypermission
```

</div>

</details>

***

### coinCost

Задает стоимость использования червоточины в элитных монетах.

| Ключ         |      Значения       | По умолчанию |
|-------------|:-----------------:|:-------:|
| `coinCost` | [Дробное число](#double) |  нет   |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
coinCost: 2.5
```

</div>

</details>

***

### style

Задает визуальную форму червоточины.

*Частицы, из которых состоят эти фигуры, могут вызывать задержки в работе некоторых клиентов. Чтобы отключить частицы, перейдите в файл **Wormholes.yml** и установите для параметра `noParticlesMode` значение `true`.*

| Ключ         |      Значения       | По умолчанию |
|-------------|:-----------------:|:-------:|
| `style` | `NONE` / `CRYSTAL` / `ISOCAHEDRON` / `CUBE` |  `CUBE`   |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
style: CRYSTAL
```

<div align="center">

![create_wormhole_style.jpg](../../../img/wiki/create_wormhole_style.jpg)

</div>

</div>

</details>

***

### particleColor

Задает цвет частиц, используемых в настройке `style`.

| Ключ         |      Значения       | По умолчанию |
|-------------|:-----------------:|:-------:|
| `particleColor` | [`0x`, за которым следует шестнадцатеричный код](https://www.w3schools.com/colors/colors_hexadecimal.asp) |  `0x800080`   |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
particleColor: 0x9f5cdd
```

<div align="center">

![create_wormhole_particlecolor.jpg](../../../img/wiki/create_wormhole_particlecolor.jpg)

</div>

</div>

</details>

***

### blindPlayer

Указывает, ослепляет ли портал игрока для более плавного телепорта.

| Ключ         |      Значения       | По умолчанию |
|-------------|:-----------------:|:-------:|
| `blindPlayer` | [Логическое значение](#boolean) | `false` |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
blindPlayer: true
```

<div align="center">

![create_wormhole_blind.jpg](../../../img/wiki/create_wormhole_blind.jpg)

</div>

</div>

</details>

***

### sizeMultiplier

Умножает размер портала и фигуры, заданной параметром `style`.

| Ключ         |      Значения       | По умолчанию |
|-------------|:-----------------:|:-------:|
| `sizeMultiplier` | [Множитель](#multiplier) |   `1`   |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
sizeMultiplier: 3
```

*Имейте в виду, что вам придется скорректировать Y-координаты червоточины после применения множителя размера.*

<div align="center">

![create_wormhole_size.jpg](../../../img/wiki/create_wormhole_size.jpg)

</div>

</div>

</details>

</div>

***

<details>

<summary align="center"><b>Пример конфигурации червоточины</b></summary>

<div align="left">

В этом примере мы создадим простую червоточину, которая перенесет нас из одного мира в другой. Не забывайте, что червоточины также могут просто телепортировать игроков в другое место в том же мире.

```yml
isEnabled: true #Включаем червоточину, установив для этого значения true
location1: my_world,1.5,11.0,1.5,108.0,5.0 #здесь появится червоточина в my_world
location2: my_other_world,766.5,29.0,517.5,-136.0,5.0 #здесь появится червоточина в my_other_world
location1Text: "&aПерейти в мой мир" #создает красивый отображаемый текст над червоточиной в месте 1
location2Text: "&aПерейти в мой другой мир" #создает красивый отображаемый текст над червоточиной в месте 2
permission: eliteperm.coolplayers #только игроки с этим разрешением смогут использовать червоточину, как для местоположения 1, так и для местоположения 2
coinCost: 2 #игрокам нужно будет заплатить 12 элитных монет, чтобы использовать червоточину
style: CRYSTAL #эта червоточина будет в форме кристалла
particleColor: 0x00ff00 #это установит частицы червоточины в зеленый цвет
blindPlayer: true #телепортация червоточины ослепит игрока на короткое время, чтобы сделать переход менее резким
sizeMultiplier: 1.0 #устанавливает, насколько большой должна быть форма червоточины
```

</div>

</details>

#### Проблемы с производительностью

Частицы червоточины могут вызывать проблемы с производительностью клиента у игроков, использующих bedrock. Если вы хотите отключить частицы червоточины, вы можете перейти в `~plugins\EliteMobs\Wormholes.yml` и изменить параметр `noParticlesMode` на `true`.
