```markdown
[![webapp_banner.jpg](../../../img/wiki/webapp_banner.jpg)](https://magmaguy.com/webapp/webapp.html)

# Что такое червоточины?

Червоточины — это разновидность высокоэффективной системы телепортации от портала к порталу. Порталы отмечены визуальными эффектами.

# Механика червоточин

Червоточины могут выполнять следующее:

*   Проходить через один портал, чтобы попасть в портал назначения, и возвращаться из портала назначения обратно к первому.
*   Воспроизводить звук, когда игроки проходят через них
*   Временно ослеплять игроков при прохождении через них для сглаживания перехода
*   Выталкивать игроков, чтобы избежать попадания в петлю телепортации
*   Блокировать телепортацию для игроков на 5 секунд, чтобы избежать попадания в петлю телепортации
*   Воспроизводить сложные визуальные эффекты
*   Требовать разрешения для использования червоточины
*   Требовать использования валюты для использования червоточины
*   Уведомлять игроков и администраторов, когда портал назначения недоступен

# Создание червоточины

Червоточины добавляются в виде файлов конфигурации в папку wormholes. Можно создавать подпапки, и рекомендуется делать это, если вы добавляете червоточины для конкретных подземелий, в формате ` ~/plugins/EliteMobs/wormholes/dungeonName/dungeonName\_identifier.yml`.

### Выброс

Параметры Yaw и Pitch (последние две цифры в координатах) в `location1` и `location2` определяют, куда игроки будут выброшены из червоточины при прохождении через нее. Рассмотрим этот пример:

`location1: my_world,20,10,20,180,20`

При Yaw, установленном на `180`, игрок будет выброшен лицом на север, а при Pitch, установленном на `20`, он также будет выброшен немного вверх. Если вы хотите, чтобы игрок оставался в том же блоке, что и червоточина, при выбросе, то рекомендуется установить Pitch отрицательным, чтобы игроки не соскальзывали с блока.

## Конфигурация червоточины
Ниже приведен пример действительной конфигурации червоточины:

```yaml
isEnabled: true
location1: em_primis,1288.5,19,452.5,135,-23
location2: em_primis,1288.5,-39,451.5,180,-1
```

***

<div align="center">

### isEnabled

Устанавливает, включена ли червоточина.

| Ключ      |       Значения        | По умолчанию |
|-----------|:---------------------:|:------------:|
| `isEnabled` | [Булево](#boolean) |    `true`    |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
isEnabled: true
```

</div>

</details>

***

### location1

Указывает первое местоположение для червоточины.

| Ключ      |      Значения       | По умолчанию |
|-----------|:-------------------:|:------------:|
| `location1` | [Строка](#string) |     none     |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
location1: world_one,50,100,50,0,0
```

</div>

</details>

***

### location2

Указывает второе местоположение для червоточины.

| Ключ        |      Значения       | По умолчанию |
|-------------|:-------------------:|:------------:|
| `location2` | [Строка](#string) |     none     |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
location2: world_two,100,33,100,0,0
```

</div>

</details>

***

### location1Text

Устанавливает отображаемый текст для первого местоположения.

| Ключ          |      Значения       | По умолчанию |
|---------------|:-------------------:|:------------:|
| `location1Text` | [Строка](#string) |     none     |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
location1Text: Awesome Wormhole In World One
```

<div align="center">

![create_wormhole_location1text.jpg](../../../img/wiki/create_wormhole_location1text.jpg)

</div>

</div>

</details>

***

### location2Text

Устанавливает отображаемый текст для второго местоположения.

| Ключ          |      Значения       | По умолчанию |
|---------------|:-------------------:|:------------:|
| `location2Text` | [Строка](#string) |     none     |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
location2Text: Awesome Wormhole In World Two
```

<div align="center">

![create_wormhole_location2text.jpg](../../../img/wiki/create_wormhole_location2text.jpg)

</div>

</div>

</details>

***

### permission

Устанавливает разрешение, необходимое для использования червоточины.

| Ключ         |      Значения       | По умолчанию |
|--------------|:-------------------:|:------------:|
| `permission` | [Строка](#string) |     none     |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
permission: elitemobs.mypermission
```

</div>

</details>

***

### coinCost

Устанавливает стоимость использования червоточины в элитных монетах.

| Ключ       |         Значения          | По умолчанию |
|------------|:-------------------------:|:------------:|
| `coinCost` | [Число с плавающей точкой](#double) |     none     |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
coinCost: 2.5
```

</div>

</details>

***

### style

Устанавливает визуальную форму червоточины.

*Частицы, составляющие эти формы, могут вызывать задержки у некоторых клиентов. Чтобы отключить частицы, перейдите в **Wormholes.yml** и установите `noParticlesMode` в `true`.*

| Ключ    |         Значения          | По умолчанию |
|---------|:-------------------------:|:------------:|
| `style` | `NONE` / `CRYSTAL` / `ISOCAHEDRON` / `CUBE` |    `CUBE`    |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
style: CRYSTAL
```

<div align="center">

![create_wormhole_style.jpg](../../../img/wiki/create_wormhole_style.jpg)

</div>

</div>

</details>

***

### particleColor

Устанавливает цвет частиц, используемых в настройке `style`.

| Ключ          |                         Значения                          | По умолчанию |
|---------------|:---------------------------------------------------------:|:------------:|
| `particleColor` | [`0x` с последующим шестнадцатеричным кодом](https://www.w3schools.com/colors/colors_hexadecimal.asp) |  `0x800080`  |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
particleColor: 0x9f5cdd
```

<div align="center">

![create_wormhole_particlecolor.jpg](../../../img/wiki/create_wormhole_particlecolor.jpg)

</div>

</div>

</details>

***

### blindPlayer

Устанавливает, ослепляет ли портал игрока для более плавного телепорта.

| Ключ          |       Значения        | По умолчанию |
|---------------|:---------------------:|:------------:|
| `blindPlayer` | [Булево](#boolean) |   `false`    |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
blindPlayer: true
```

<div align="center">

![create_wormhole_blind.jpg](../../../img/wiki/create_wormhole_blind.jpg)

</div>

</div>

</details>

***

### sizeMultiplier

Умножает размер портала и форму, заданную `style`.

| Ключ           |        Значения         | По умолчанию |
|----------------|:-----------------------:|:------------:|
| `sizeMultiplier` | [Множитель](#multiplier) |     `1`      |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
sizeMultiplier: 3
```

*Имейте в виду, что вам придется скорректировать координаты Y червоточины после применения множителя размера.*

<div align="center">

![create_wormhole_size.jpg](../../../img/wiki/create_wormhole_size.jpg)

</div>

</div>

</details>

</div>

***

<details>

<summary align="center"><b>Пример конфигурации червоточины</b></summary>

<div align="left">

В этом примере мы создадим простую червоточину, которая переносит нас из одного мира в другой. Не забывайте, что червоточины также могут просто телепортировать игроков в другое место в том же мире.

```yml
isEnabled: true #Мы включаем червоточину, установив это значение в true
location1: my_world,1.5,11.0,1.5,108.0,5.0 #здесь появится червоточина в мире my_world
location2: my_other_world,766.5,29.0,517.5,-136.0,5.0 #здесь появится червоточина в другом мире my_other_world
location1Text: "&aGo to My World" #создает красивый отображаемый текст над местоположением червоточины 1
location2Text: "&aGo to My Other World" #создает красивый отображаемый текст над местоположением червоточины 2
permission: eliteperm.coolplayers #только игроки с этим разрешением смогут использовать червоточину, как для location1, так и для location2
coinCost: 2 #игрокам потребуется заплатить 2 элитные монеты, чтобы использовать червоточину
style: CRYSTAL #эта червоточина будет иметь форму кристалла
particleColor: 0x00ff00 #это установит зеленый цвет частиц червоточины
blindPlayer: true #телепорт червоточины временно ослепит игрока, чтобы сделать переход менее резким
sizeMultiplier: 1.0 #устанавливает, насколько большой должна быть форма червоточины
```

</div>

</details>

#### Проблемы с производительностью

Частицы червоточины могут вызывать проблемы с производительностью клиента у игроков, использующих Bedrock. Если вы хотите отключить частицы червоточины, вы можете перейти в `~plugins\EliteMobs\Wormholes.yml` и изменить настройку `noParticlesMode` на `true`.
```