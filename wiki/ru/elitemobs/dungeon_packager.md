```markdown
[![webapp_banner.jpg](../../../img/wiki/webapp_banner.jpg)](https://magmaguy.com/webapp/webapp.html)

# Что такое подземелья?

Информацию о подземельях, включая информацию о готовых подземельях, можно найти [здесь]($language$/elitemobs/dungeons.md).

***

# Что такое упаковщик подземелий?

Упаковщик подземелий позволяет администраторам не только создавать и упаковывать подземелья, но и упаковывать любой контент EliteMobs. Это включает в себя такие вещи, как пакеты событий, пакеты моделей, арены, пакеты NPC, пакеты предметов и так далее.

<details>

<summary>Зачем использовать пакеты подземелий?</summary>

- ***Инстансированные подземелья!*** Инстансированные подземелья можно создавать только через систему пакетов подземелий.
- ***Безопасные резервные копии мини-подземелий!*** Если вы создадите пакет подземелья, вы сможете развернуть и повторно развернуть его на любом сервере в любое время и по любой причине.
- ***Легко включать и выключать!*** Вы всегда можете выполнить команду `/em setup` и временно или навсегда выключить и включить пакеты подземелий.
- ***Легко делиться!*** Если вы хотите поделиться своими творениями, пакеты подземелий можно просто заархивировать и отправить другим людям. Есть комната Discord, посвященная творениям сообщества, если вам это интересно!
- ***Телепорты!*** Пакеты подземелий автоматически создают точки телепортации, к которым можно получить доступ на странице телепортов меню `/em`, что может быть очень полезно во многих настройках.

</details>

# Создание подземелий

Следующие настройки используются для создания файла конфигурации, который должен находиться в папке `content_packages`. Эти настройки используются для создания именно подземелий и не требуются, если вы просто хотите использовать упаковщик подземелий для распространения контента, не связанного с подземельями, например, набора предметов или событий.

## Необходимые плагины

Чтобы использовать упаковщик подземелий, вам понадобится следующий плагин:

[WorldGuard](https://dev.bukkit.org/projects/worldguard) - защищает мини-подземелье

## Создание подземелья шаг за шагом

Раньше в EliteMobs было два основных вида подземелий: на основе мира и на основе схемы.

Подземелья на основе схем были связаны со схематической постройкой. Теперь они выведены из употребления и больше не поддерживаются.

Все подземелья EliteMobs теперь основаны на мире.

## Необходимый файл pack.meta

Ваш пакет подземелий должен включать файл `pack.meta`, который представляет собой просто переименованный файл `.txt` с расширением `.meta`. Этот файл должен содержать только одно слово, указывающее, для какого плагина предназначен пакет (например, "elitemobs", написано в нижнем регистре). Файл `pack.meta` должен располагаться в корневом каталоге вашего пакета рядом со всеми остальными папками.

***

### Глобальные значения

Следующие значения применяются ко всем подземельям

<div align="center">

### isEnabled

Устанавливает, включен ли пакет подземелья.

| Ключ        | Значения      | По умолчанию | Обязательный |
|-------------|:-------------:|:-------------:|:------------:|
| `isEnabled` | [Boolean](#boolean) | `false`       |      ✅      |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
isEnabled: true
```

</div>

</details>

***

### name

Устанавливает имя контента. Поддерживает [Цветовые коды](#color_codes).

| Ключ   |     Значения      | По умолчанию | Обязательный |
|--------|:-----------------:|:------------:|:------------:|
| `name` | [String](#string) |   `false`    |      ✅       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
name: '&c[lvl 999] &aЗеленое подземелье'
```

<div align="center">

![create_packager_name.jpg](../../../img/wiki/create_packager_name.jpg)

</div>

</div>

</details>

***

### dungeonLocationType

Устанавливает тип местоположения, используемого подземельем.

| Ключ                  |       Значения        | По умолчанию | Обязательный |
|-----------------------|:---------------------:|:------------:|:------------:|
| `dungeonLocationType` | `WORLD` / `INSTANCED` |     none     |      ✅       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
dungeonLocationType: WORLD
```

</div>

</details>

***

### contentType

Устанавливает тип подземелья.

| Ключ          |                   Значения                   | По умолчанию | Обязательный |
|---------------|:--------------------------------------------:|:------------:|:------------:|
| `contentType` | `OPEN_DUNGEON` / `INSTANCED_DUNGEON` / `HUB` |     none     |      ✅       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
contentType: INSTANCED_DUNGEON
```

</div>

</details>

***

### customInfo

Устанавливает дополнительную информацию, которая будет отображаться на экране `/em setup`. Только для информационных
целей. Поддерживает [Цветовые коды](#color_codes).

| Ключ         |          Значения           | По умолчанию | Обязательный |
|--------------|:---------------------------:|:------------:|:------------:|
| `customInfo` | [String List](#string_list) |     none     |      ✅       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
customInfo:
- '&aЛучшее подземелье.'
- '&aСделано: КрутойИгрок'
```

<div align="center">

![create_packager_custominfo.jpg](../../../img/wiki/create_packager_custominfo.jpg)

</div>

</div>

</details>

***

### downloadLink

Устанавливает ссылку для скачивания, если контент не скачан. Только для информационных целей.

| Ключ           |     Значения      | По умолчанию | Обязательный |
|----------------|:-----------------:|:------------:|:------------:|
| `downloadLink` | [String](#string) |     none     |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
downloadLink: http://www.example.org
```

<div align="center">

![create_packager_downloadlink.jpg](../../../img/wiki/create_packager_downloadlink.jpg)

</div>

</div>

</details>

***

### dungeonSizeCategory

Устанавливает категорию размера пакета подземелья. Только для информационных целей.

| Ключ                  |  Значения   | По умолчанию | Обязательный |
|-----------------------|:-----------:|:------------:|:------------:|
| `dungeonSizeCategory` | Special [1] |     none     |      ✅       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
dungeonSizeCategory: MINIDUNGEON
```

<div align="center">

![create_packager_size.jpg](../../../img/wiki/create_packager_size.jpg)

</div>

</div>

</details>

**Special [1]**

<details>

<summary><b>Развернуть таблицу</b></summary>

<div align="center">

| Ключ          | Описание                                                                                                                                                                                                                                 |
|---------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `LAIR`        | Логова - это тип небольшого подземелья, ориентированный на одну большую битву с боссом.                                                                                                                                                  |
| `SANCTUM`     | Святилища - это эквивалент инстансированных Логов. Это означает, что они сосредоточены вокруг одной огромной битвы с боссом.                                                                                                             |
| `MINIDUNGEON` | Мини-подземелья - это тип подземелий среднего размера, которые обычно содержат 3-15 мини-боссов и большого босса, а также множество "мусорных" мобов, которые предназначены для "фарма" монет и снаряжения игроками.                     |
| `DUNGEON`     | Подземелья - это эквивалент инстансированных мини-подземелий. Это самый традиционный тип подземелий в MMORPG, где игроки объединяются в группы и проходят через череду мусорных мобов и мини-боссов, чтобы сразиться с финальным боссом. |
| `RAID`        | Скоро!                                                                                                                                                                                                                                   |
| `ADVENTURE`   | Приключения - это полные приключенческие карты. Они включают в себя цепочки квестов, NPC, большое количество мини-боссов и боссов и могут даже содержать свои собственные арены или подземелья внутри них.                               |
| `ARENA`       | Арены - это области выживания, основанные на волнах, в которых игроки получают награды за победу над волнами.                                                                                                                            |
| `OTHER`       | Все остальное, что не относится к предыдущим категориям.                                                                                                                                                                                 |

Для более подробного описания см. [Подземелья]($language$/elitemobs/dungeons.md)

</div>

</details>

***

### protect

Устанавливает, должен ли пакет подземелья быть защищен WorldGuard.

| Ключ      |      Значения       | По умолчанию | Обязательный |
|-----------|:-------------------:|:------------:|:------------:|
| `protect` | [Boolean](#boolean) |    `true`    |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
protect: true
```

</div>

</details>

***

### dungeonVersion

Устанавливает версию пакета подземелья.

| Ключ             |      Значения       | По умолчанию | Обязательный |
|------------------|:-------------------:|:------------:|:------------:|
| `dungeonVersion` | [Integer](#integer) |     none     |      ✅       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
dungeonVersion: 1
```

</div>

</details>

***

### playerInfo

Устанавливает информацию, которая отображается в меню. Поддерживает [Цветовые коды](#colorcodes).

*Работает только тогда, когда `/em` настроен на режим книги с помощью `/em alt`.*

| Ключ         |     Значения      | По умолчанию | Обязательный |
|--------------|:-----------------:|:------------:|:------------:|
| `playerInfo` | [String](#string) |     none     |      ✅       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
playerInfo: 'Сложность: &a1-человек, легкий контент!'
```

<div align="center">

![create_packager_playerinfo.jpg](../../../img/wiki/create_packager_playerinfo.jpg)

</div>

</div>

</details>

***

### regionEnterMessage

Устанавливает сообщение, которое появляется при входе игрока в зону подземелья.
Поддерживает [Цветовые коды](#colorcodes).

| Ключ                 |     Значения      | По умолчанию | Обязательный |
|----------------------|:-----------------:|:------------:|:------------:|
| `regionEnterMessage` | [String](#string) |     none     |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
regionEnterMessage: '&aВы вошли в подземелье!'
```

<div align="center">

![create_packager_enter.jpg](../../../img/wiki/create_packager_enter.jpg)

</div>

</div>

</details>

***

### regionLeaveMessage

Устанавливает сообщение, которое появляется, когда игрок покидает зону подземелья. Поддерживает [Цветовые коды](#colorcodes).

| Ключ                 |     Значения      | По умолчанию | Обязательный |
|----------------------|:-----------------:|:------------:|:------------:|
| `regionLeaveMessage` | [String](#string) |     none     |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
regionLeaveMessage: '&aВы покинули подземелье!'
```

<div align="center">

![create_packager_leave.jpg](../../../img/wiki/create_packager_leave.jpg)

</div>

</div>

</details>

***

### hasCustomModels

Устанавливает, есть ли у пакета подземелий пользовательские модели (для ModelEngine или FreeMinecraftModels).

| Ключ              |      Значения       | По умолчанию | Обязательный |
|-------------------|:-------------------:|:------------:|:------------:|
| `hasCustomModels` | [Boolean](#boolean) |     none     |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
hasCustomModels: false
```

</div>

</details>

***

### dungeonConfigFolderName

Устанавливает имя папок, используемых для файлов, связанных с этим подземельем.

**Обязательно для инстансированных подземелий!.**

| Ключ                      |     Значения      | По умолчанию | Обязательный |
|---------------------------|:-----------------:|:------------:|:------------:|
| `dungeonConfigFolderName` | [String](#string) |     none     |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
dungeonConfigFolderName: my_dungeon_folder
```

</div>

</details>

***

### contentLevel

Устанавливает уровень контента, который подземелье должно отображать в меню EM.

| Ключ           |      Значения       | По умолчанию | Обязательный |
|----------------|:-------------------:|:------------:|:------------:|
| `contentLevel` | [Integer](#integer) |     none     |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
contentLevel: 20
```

</div>

</details>

***

### enchantmentChallenge

Устанавливает, должно ли подземелье быть подземельем с испытанием зачарования.

| Ключ                   |      Значения       | По умолчанию | Обязательный |
|------------------------|:-------------------:|:------------:|:------------:|
| `enchantmentChallenge` | [Boolean](#boolean) |   `false`    |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
enchantmentChallenge: false
```

</div>

</details>

</div>

***

### Пакеты подземелий на основе мира

Следующие значения применяются только к подземельям на основе мира.

<div align="center">

***

### worldName

Устанавливает имя мира, который должен быть упакован.

| Ключ        |     Значения      | По умолчанию | Обязательный |
|-------------|:-----------------:|:------------:|:------------:|
| `worldName` | [String](#string) |     none     |      ✅       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
worldName: my_minecraft_world
```

</div>

</details>

***

### womholeWorldName

Эта функция устанавливает имя мира червоточины, который служит вторичным миром, связанным с основным миром. Он
используется для таких функций, как телепорт-хабы или уникальные камеры боссов.

| Ключ               |     Значения      | По умолчанию | Обязательный |
|--------------------|:-----------------:|:------------:|:------------:|
| `womholeWorldName` | [String](#string) |     none     |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
womholeWorldName: my_minecraft_world_wormhole
```

</div>

</details>

***

### environment

Устанавливает среду мира.

| Ключ          |                                         Значения                                          | По умолчанию | Обязательный |
|---------------|:-----------------------------------------------------------------------------------------:|:------------:|:------------:|
| `environment` | [Environment](https://hub.spigotmc.org/javadocs/spigot/org/bukkit/World.Environment.html) |     none     |      ✅       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
environment: NORMAL
```

</div>

</details>

***

### teleportLocation

Устанавливает местоположение телепорта пакета подземелья. Это место, куда игроки будут телепортироваться при входе в
подземелье.

| Ключ               |     Значения      | По умолчанию | Обязательный |
|--------------------|:-----------------:|:------------:|:------------:|
| `teleportLocation` | [String](#string) |     none     |      ✅       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
teleportLocation: my_minecraft_world,-1.5,68,0.5,0.0,0.0
```

</div>

</details>

***

### allowExplosionBlockDamage

Либо разрешает, либо предотвращает повреждение блоков взрывами в подземелье. Взрывы считаются элитными, поэтому любое
повреждение блоков будет восстановлено в течение 2 минут.

| Ключ                        |      Значения       | По умолчанию | Обязательный |
|-----------------------------|:-------------------:|:------------:|:------------:|
| `allowExplosionBlockDamage` | [Boolean](#boolean) |   `false`    |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
allowExplosionBlockDamage: true
```

</div>

</details>

</div>

#### Инстансированные подземелья

*Инстансированные подземелья создают новый мир каждый раз, когда группа игроков хочет пройти подземелье, и удаляют его,
когда оно завершено. Чтобы это работало правильно, вы должны поместить папку, следующую за `dungeonConfigFolderName`, в
папку конфигурации `world_blueprints` EliteMobs.*

*Затем вы помещаете мир, который будете использовать, внутрь созданной вами папки, убедившись, что файл `session.lock` мира удален.*

Следующие значения применяются только к инстансированным подземельям. Обратите внимание, что все инстансированные
подземелья являются подземельями мира, поэтому они также используют значения из подземелий мира.

<div align="center">

***

### startLocation

Устанавливает местоположение телепорта начальной точки инстансированного подземелья. Это место, куда игроки будут
телепортироваться при запуске инстансированного подземелья с помощью `/em start`.

| Ключ            |     Значения      | По умолчанию | Обязательный |
|-----------------|:-----------------:|:------------:|:------------:|
| `startLocation` | [String](#string) |     none     |      ✅       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
startLocation: my_minecraft_world,10.5,70,10.5,0.0,0.0
```

</div>

</details>

***

### permission

Устанавливает разрешение, необходимое для входа в экземпляр подземелья.

| Ключ         |     Значения      | По умолчанию | Обязательный |
|--------------|:-----------------:|:------------:|:------------:|
| `permission` | [String](#string) |     none     |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
permission: elitedungeon.mypermission
```

</div>

</details>

***

### minPlayerCount

Устанавливает минимальное количество игроков, необходимое для начала подземелья.

| Ключ             |      Значения       | По умолчанию | Обязательный |
|------------------|:-------------------:|:------------:|:------------:|
| `minPlayerCount` | [Integer](#integer) |     `1`      |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
minPlayerCount: 1
```

</div>

</details>

***

### maxPlayerCount

Устанавливает минимальное количество игроков, необходимое для начала подземелья.

| Ключ             |      Значения       | По умолчанию | Обязательный |
|------------------|:-------------------:|:------------:|:------------:|
| `maxPlayerCount` | [Integer](#integer) |     `5`      |      ❌       |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
maxPlayerCount: 5
```

</div>

</details>

***

### dungeonObjectives

Устанавливает список целей подземелья, необходимых для того, чтобы подземелье считалось завершенным.

| Ключ                |          Значения           | По умолчанию | Обязательный |
|---------------------|:---------------------------:|:------------:|:------------:|
| `dungeonObjectives` | [String List](#string_list) |     none     |      ✅       |

<details>

<summary><b>Примеры</b></summary>

<div align="left">

В настоящее время существует два типа целей подземелий:

* Убить цель: `filename=boss.yml:amount=X`
* Убить процент подземелья: `clearpercentage=X.Y`

```yml
dungeonObjectives:
- filename=dungeon_final_boss.yml
- filename=dungeon_miniboss_one.yml
- filename=dungeon_miniboss_two.yml
```

```yml
dungeonObjectives:
- clearpercentage=0.8
```

</div>

</details>

***

### difficulties

Устанавливает список сложностей в инстансированном подземелье.

**Обязательно для инстансированных подземелий!**

| Ключ           |  Значения   | По умолчанию | Обязательный |
|----------------|:-----------:|:------------:|:------------:|
| `difficulties` | Special [1] |     none     |      ❌       |

<details>

<summary><b>Примеры</b></summary>

<div align="left">

```yml
difficulties:
- levelSync: 25
  id: 0
  name: normal
- levelSync: 20
  id: 1
  name: hard
- levelSync: 15
  id: 2
  name: mythic
```

<div align="center">

![create_packager_difficulty.jpg](../../../img/wiki/create_packager_difficulty.jpg)

</div>

</div>

</details>

**Special [1]**

<details>

<summary><b>Развернуть таблицу</b></summary>

<div align="center">

Установка сложностей инстансированного подземелья автоматически создаст различные варианты сложности при входе в подземелье.

Имена сложностей, заданные здесь, будут использоваться в папке пользовательских боссов, где вы можете установить, какие
способности есть у боссов в зависимости от сложности.

Сложности находятся в формате списка со следующими полями:

|    Ключ     | Описание                                                                                                                                                                                                                                                                                                                                                                            | Значения            | Обязательный |
|:-----------:|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------|:------------:|
|   `name`    | Название сложности для игроков.                                                                                                                                                                                                                                                                                                                                                     | [String](#string)   |      ✅       |
|    `id`     | ID сложности, используется в пользовательских боссах и пользовательских предметах для функции, основанной на сложности.                                                                                                                                                                                                                                                             | [String](#string)   |      ✅       |
| `levelSync` | Устанавливает уровень синхронизации уровней, если таковая имеется. Синхронизация уровней позволяет максимально повысить уровень экипировки игрока до установленного значения, что делает невозможным для игроков получение более высокого уровня для подземелья и сохраняет его актуальность для более поздних забегов. Основано на системе синхронизации уровней Final Fantasy 14. | [Integer](#integer) |      ❌       |


</div>

</details>

</div>

***

## Использование файла пакета подземелий meta_pack.yml для больших подземелий.
```
```markdown
Иногда вы можете работать над большим подземельем, которое включает в себя другие, более мелкие подземелья, позволяя игрокам перемещаться между ними через основной мир подземелья. Отличным примером этого является приключенческое подземелье EliteMobs Primis.

Primis представляет собой огромный мир, где игроки могут исследовать и выполнять квесты, но он также включает в себя два инстансированных подземелья в своем мире, одно из которых служит финальной битвой с боссом. В таких случаях будет несколько файлов пакетов подземелий, даже если все они принадлежат одному общему подземелью.

Чтобы управлять этим, мы используем файл мета-пакета подземелья. Этот файл действует как центральный каталог, указывая основное подземелье и перечисляя весь дополнительный контент подземелья, связанный с ним.

Давайте подробнее рассмотрим структуру мета-пакета подземелья Primis:

```yaml
isEnabled: true
name: '&2[000-020] Приключение Примис!'
customInfo:
- Обучающее приключение для игроков
- новичков в EliteMobs!
downloadLinkV2: https://discord.gg/9f5QSka
dungeonSizeCategory: LAIR
environment: NORMAL
protect: true
contentType: META_PACKAGE
containedPackages:
- primis_adventure.yml
- primis_blood_temple_sanctum.yml
- primis_gladius_invasion_dungeon.yml
setupMenuDescription:
- '&2Мягкое обучающее приключение для игроков уровней 0-20!'
- '&2Приключения - это огромные карты с квестами,'
- '&2множеством боссов и NPC, среди прочего!'
- '&2Также есть пользовательские модели!'
dungeonVersion: 21 #добавлен файл мета-пакета подземелья
```

Как видите, файл мета-пакета подземелья очень похож на обычный пакет подземелья с несколькими ключевыми
отличиями. `contentType:` имеет значение `META_PACKAGE`, и есть дополнительная настройка `containedPackages:`. Эта
настройка перечисляет все другие пакеты подземелий, которые являются частью большего подземелья.

При создании мета-пакета обязательно включите настройку `containedPackages:` и перечислите каждый пакет подземелья,
который является частью вашего большего подземелья. Это гарантирует, что все будет правильно связано и организовано в
рамках общей структуры.

При версионировании вашего подземелья все версионирование должно осуществляться через мета-пакет. Это связано с тем, что
мета-пакет служит основным пакетом, который определяет версию всего подземелья, а также является пакетом, используемым
для отображения информации в меню `/em setup`.

Имейте в виду, что отдельные подземелья, перечисленные в мета-пакете, все еще могут отображаться в меню `/em teleport`.
Чтобы этого не произошло, вам нужно будет вручную отключить параметры телепортации для каждого из этих подземелий в
соответствующих файлах конфигурации.

Например, в случае подземелья Primis:

Отключите записи телепортации в меню для `primis_blood_temple_sanctum.yml` и `primis_gladius_invasion_dungeon.yml`.
Оставьте параметры телепортации включенными для `primis_adventure.yml`, поскольку он служит основным хабом, где игроки
начинают свое путешествие и получают доступ к другим подземельям.
Эта настройка обеспечивает бесперебойную работу для игроков, сохраняя при этом правильную структуру и функциональность системы подземелий.

При именовании файла мы рекомендуем следующее соглашение об именах:

`your_dungeon_name_meta_pack.yml`

***

# Рекомендуемые значения боссов

## Создание обычного моба подземелья

Мы рекомендуем оставить для настройки normalizedCombat значение true. Эта настройка нормализует всех мобов для
одинакового масштабирования с уровнем здоровья и урона, независимо от их типа сущности.

```yaml
normalizedCombat: true
healthMultiplier: 1.0 #4 удара для убийства
damageMultiplier: 1.0 #1,5 сердца урона
```

Безусловно, вот пересмотренная версия с сохраненной ясностью и форматированием:

**Примечание: поскольку `1.0` является значением по умолчанию для здоровья и урона, вы можете просто опустить
определение `healthMultiplier` или `damageMultiplier` и установить `normalizedCombat` в значение `true`.**

## Создание мусорных стай

Мусорные стаи многочисленны, но не очень опасны:

```yaml
normalizedCombat: true
healthMultiplier: 0.7 #3 удара для убийства
damageMultiplier: 0.5 #0,5 сердца урона
```

## Создание подкреплений

Подкрепления должны умирать очень легко, но представлять опасность с точки зрения урона (эти значения рекомендуются для 4+ сущностей ближнего боя, фактическое использование может отличаться):

```yaml
normalizedCombat: true
healthMultiplier: 0.25 #1 удар для убийства
damageMultiplier: 0.6 #1 сердце урона
```

## Создание мини-боссов

Мини-боссы должны удерживать свои позиции и представлять механическое испытание для игроков. Это должно быть испытание
навыков, которое длится некоторое время, но не является чем-то чрезвычайно смертельным:

```yaml
normalizedCombat: true
healthMultiplier: 3.0 #10 ударов для убийства
damageMultiplier: 1.2 #2 сердца урона
```

## Создание боссов

Боссы — это настоящее испытание, завершение накопления в подземелье и настоящее испытание навыков, где на карту
поставлено все. Сражения должны быть долгими, и смерть должна быть постоянной угрозой.

```yaml
normalizedCombat: true
healthMultiplier: 7.0 #23 удара для убийства
damageMultiplier: 1.4 #2,5 сердца урона
```

**Эти рекомендуемые значения являются лишь приблизительными, и окончательные значения следует корректировать в
соответствии с конкретными столкновениями.**

**Это особенно важно для финальных боссов подземелий; вы можете значительно превысить рекомендуемое значение 7,0 для
healthMultiplier, чтобы придать последней битве это эпическое ощущение.**

***

# Упаковка контента EliteMobs для распространения

Наконец, вы, вероятно, захотите упаковать свое подземелье либо для хранения, либо для распространения.

EliteMobs имеет систему импорта, которая позволяет администраторам быстро импортировать, устанавливать и удалять контент. [Вы можете посмотреть, как это работает, здесь.]($language$/elitemobs/setup.md)

## Обрезка миров

Иногда вам может потребоваться уменьшить размер вашего мира Minecraft, чтобы сделать его более легким и, следовательно,
более простым для распространения. Это можно сделать с
помощью [плагина WorldBorder](https://www.spigotmc.org/resources/worldborder-1-15.80466/). Несмотря на то, что плагин
указан как поддерживающий MineCraft только до версии 1.19, он без проблем работает в последней версии MineCraft по
состоянию на 25 января 2024 года.

<details>
<summary>Совет</summary>
Если вы делаете это впервые, возможно, стоит создать резервную копию своего мира на случай, если что-то пойдет не так.
</details>

После установки плагина перейдите в середину мира или в конкретную область, которую вы хотите обрезать. Затем выполните
команду `/wb set x`, где `x` представляет собой приблизительный размер радиуса, который вы хотите для своей области.

<details>
<summary>Совет</summary>
Если <code>/wb</code> не работает, попробуйте <code>/worldborder:wb</code>.
</details>

После выполнения этой команды пролетите к краям своего мира, чтобы убедиться, что граница мира установлена правильно и
охватывает нужный размер. Вы узнаете, что достигли края границы мира, когда вас оттолкнет назад, и в чате появится
сообщение.

![trim_pic_1.jpg](../../../img/wiki/trim_pic_1.jpg)

На изображении выше мы стремимся обрезать мир вокруг фиолетовых блоков, оставив только несколько чанков вокруг них. Для
этого мы встаем в середину фиолетовой области на красных квадратах и выполняем `/wb set 50`, устанавливая границу мира
чуть дальше фиолетовой области.

Далее мы используем команду `/wb trim [freq] [pad]`, установив частоту на 200, а отступ на 20. Отступ определяет,
сколько чанков должно остаться вокруг границы мира (фиолетовой области), а частота определяет, сколько чанков должно
обрабатываться в секунду. После выполнения `/wb trim 200 20` нам будет предложено подтвердить,
выполнив `/wb trim confirm`. Мы подтверждаем действие, и через некоторое время наш мир будет обрезан, что уменьшит его
размер и сделает его более удобным для распространения.

Теперь вы можете удалить границу мира, используя `/wb clear all`, или просто оставить ее, если хотите.

## Обрезка папки мира

В вашей папке мира есть несколько файлов и папок, которые мы можем удалить, поскольку плагины не используют их все. Это
уменьшит размер вашего мира и облегчит его распространение.

Для СРЕДЫ мира NORMAL:

Чтобы подготовить свой мир, сохраните следующие файлы и папки:

1. Папка **region**
2. **raids.dat** из папки **data** (обязательно поместите его внутрь папки **data** при копировании)
3. Файл **level.dat**

Вы можете безопасно удалить все остальные файлы и папки, расположенные в папке мира. Это правильно настроит ваш мир для
среды NORMAL.

Для СРЕД NETHER и THE_END мира:

Чтобы подготовить свой мир, сохраните следующие файлы и папки:

1. Папка **region** внутри папки **DIM-1** (обязательно поместите ее внутрь папки **DIM-1** при копировании)
2. **raids.dat** из папки **data** (обязательно поместите его внутрь папки **data** при копировании)
3. Файл **level.dat**

Вы можете безопасно удалить все остальные файлы и папки, расположенные в папке мира. Это правильно настроит ваш мир для сред NETHER и THE_END.

## Выполнение команды пакета

EliteMobs имеет команду **`/em package <имяПодземелья> <версия>`**. Эта команда проходит по всем папкам конфигурации
EliteMobs и автоматически упаковывает весь контент в папки, соответствующие `имяПодземелья`, в zip-файл и обычную папку
в папке `exports` EliteMobs.

***По этой причине настоятельно рекомендуется хранить контент, который вы хотите упаковать, в папках с тем же именем,
что и имя вашего пакета.*** В противном случае вам придется вручную собрать и упаковать файлы в файловую структуру для
распространения.

## Добавление файла пакета подземелья

Если вы создаете подземелье, вам нужно будет вручную добавить файл пакета подземелья в свежесгенерированную папку в
папке экспорта. Ваш файл конфигурации пакета подземелья должен соответствовать формату, описанному выше, и помещаться в
папку `content_packages`. [Подробнее об этом см. раздел файловой структуры.](#file-structure).

**После завершения обязательно заархивируйте свое подземелье!**

## Структура файла

Если вы все сделали правильно, структура файла должна быть похожа на этот пример, где мы назвали
подземелье `my_cool_dungeon`:

<details>
<summary>Пример структуры файла my_cool_dungeon</summary>

- my_cool_dungeon.zip
    * content_packages
        * my_cool_dungeon.yml <- Здесь находится ваш файл конфигурации пакета подземелья
    * worldcontainer
        * [Здесь находятся ваши папки мира]
    * wormholes
        * my_cool_dungeon
            * [Здесь находятся ваши червоточины]
    * npcs
        * my_cool_dungeon
            * [Здесь находятся ваши NPC]
    * customtreasurechests
        * my_cool_dungeon
            * [Здесь находятся ваши сундуки с сокровищами]
    * customquests
        * my_cool_dungeon
            * [Здесь находятся ваши квесты]
    * customitems
        * my_cool_dungeon
            * [Здесь находятся ваши пользовательские предметы]
    * custombosses
        * my_cool_dungeon
            * [Здесь находятся ваши пользовательские боссы]
    * customarenas
        * my_cool_dungeon
            * [Здесь находятся ваши пользовательские арены]
    * powers
        * my_cool_dungeon
            * [Здесь находятся ваши пользовательские способности]
    * world_blueprints
        * my_cool_dungeon
            * [Здесь находится ваша папка мира, используемая для инстансированных подземелий]
    * customevents
        * my_cool_dungeon
            * [Здесь находятся ваши пользовательские события]
    * customspawns
        * my_cool_dungeon
            * [Здесь находятся ваши пользовательские спавны]
    * models
        * [Здесь находятся ваши модели в формате bbmodel ModelEngine, принимаются папки]

</details>

Это позволяет большинству пользователей перетаскивать файлы непосредственно на свой сервер, и они сразу же начинают
работать.

***Важно: при упаковке для распространения обязательно УДАЛИТЕ МИНИ-ПОДЗЕМЕЛЬЕ ПЕРВЫМ! Вы же не хотите распространять
установленные мини-подземелья, вы хотите, чтобы администраторы настраивали их на своих серверах!***

# Совместное использование пакетов подземелий, которые вы создали, с сообществом

Discord содержит раздел [#community_dungeons](https://discord.gg/7Pnd7EjdZq "#community_dungeons"), где люди могут
делиться своими творениями мини-подземелий. Не стесняйтесь вносить свой вклад!
```
