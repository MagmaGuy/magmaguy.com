# Условия Elite Script

Условия позволяют сценаристам делать так, чтобы скрипты и / или действия **не** запускались в зависимости от конкретных
условий.

<div align="center">

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yaml
eliteScript:
  Example:
    Events:
    - EliteMobDamagedByPlayerEvent
    Conditions:
      isAlive: true
      Target:
        targetType: SELF
    Actions:
    - action: PLACE_BLOCK
      Target:
        targetType: DIRECT_TARGET
      duration: 20
      material: DIRT
      offset: 0,3,0
      Conditions:
        locationIsAir: true
        Target:
          targetType: ACTION_TARGET
    Cooldowns:
      local: 60
      global: 20
```

В этом примере скрипт `Example` будет выполняться только в том случае, если элитный моб все еще жив, и будет размещать
блок грязи на 3 блока выше местоположения элитного моба, только если этот блок является блоком воздуха. Отдельные
действия могут иметь индивидуальные условия.

</div>

</details>

</div>

## Цель

Условия используют систему [Целей]($language$/elitemobs/elitescript_targets.md), чтобы определить, какое существо или
местоположение подвергается условиям. Это означает, что вы можете связывать условия с боссом, игроками или с чем-либо
еще, что вы можете нацелить.

---

## Тип условия

| Ключ            |         Описание          |         Значения         |
|-----------------|:-------------------------:|:------------------------:|
| `conditionType` | Устанавливает тип условия | `BLOCKING` / `FILTERING` |

Существует два типа условий: `BLOCKING` и `FILTERING`. Условия `BLOCKING` останавливают выполнение скриптов или
действий. Условия `FILTERING` заставляют действия пропускать цели, которые не соответствуют условию. Это означает, что
если вы хотите нацеливаться только на блоки, которые не являются воздухом, вам понадобится условие `FILTERING`, но если
вы хотите остановить действие, если игрок мертв, вам понадобится условие `BLOCKING`.

**Условия вне действий всегда `BLOCKING`**. Условия внутри действий могут быть `BLOCKING` или `FILTERING`.

_**Примечание: если цель — `SELF` (босс) и проверка условия — `isAlive`, проверка всегда `BLOCKING`!**_ Это можно
поместить внутрь условия `FILTERING`, и эта конкретная часть все равно будет вести себя как `BLOCKING`.

Условия внутри действий по умолчанию установлены на `FILTERING`.

---

## Условия на основе местоположения

### locationIsAir

Устанавливает условие на то, является ли местоположение цели воздухом.

| Ключ            |                                     Описание                                      |      Значения       |
|-----------------|:---------------------------------------------------------------------------------:|:-------------------:|
| `locationIsAir` | Устанавливает проверку, является ли местоположение блоком воздуха (или наоборот). | [Boolean](#boolean) |

<div align="center">

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yaml
eliteScript:
  Example:
    Conditions:
      locationIsAir: true
      Target:
        targetType: SELF
        offset: "0,3,0"
```

Проверяет, является ли местоположение на 2 блока выше того места, где стоит босс, воздухом.

</div>

</details>

</div>

---

### isOnFloor

Проверяет, находится ли местоположение на полу. Это означает, что блок в этом месте не является твердым, но блок под ним является твердым.

| Ключ        |                                 Описание                                 |      Значения       |
|-------------|:------------------------------------------------------------------------:|:-------------------:|
| `isOnFloor` | Устанавливает проверку, является ли местоположение полом (или наоборот). | [Boolean](#boolean) |

<div align="center">

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yaml
eliteScript:
  Example:
    Conditions:
      isOnFloor: true
      Target:
        targetType: SELF
```

</div>

</details>

</div>

---

### isStandingOnMaterial

Проверяет, является ли местоположение под целью соответствующим типом материала.

| Ключ                   |                       Описание                        |       Значения        |
|------------------------|:-----------------------------------------------------:|:---------------------:|
| `isStandingOnMaterial` | Устанавливает, какой тип материала следует проверять. | [Material](#material) |

<div align="center">

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yaml
eliteScript:
  Example:
    Conditions:
      isStandingOnMaterial: BIRCH_WOOD
      Target:
        targetType: SELF
```

Будет выполняться только в том случае, если босс стоит на BIRCH_WOOD.

</div>

</details>

</div>

## Условия на основе сущности

### isAlive

Устанавливает условие на то, живо ли целевое существо.

| Ключ      |                        Описание                        |      Значения       |
|-----------|:------------------------------------------------------:|:-------------------:|
| `isAlive` | Устанавливает проверку, живо ли существо (или мертво). | [Boolean](#boolean) |

<div align="center">

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yaml
eliteScript:
  Example:
    Conditions:
      isAlive: false
      Target:
        targetType: SELF
```

Будет выполняться только в том случае, если босс мертв.

</div>

</details>

</div>

---

### hasTags

Проверяет, есть ли у целевого существа определенные теги. Сценаристы могут назначать и отменять любые теги через
действия и использовать их в качестве условий для последующего поведения. Теги — это просто строки (слова), которые
можно назначить боссу.

| Ключ      |                         Описание                         |          Значения           |
|-----------|:--------------------------------------------------------:|:---------------------------:|
| `hasTags` | Устанавливает проверку, есть ли у сущности список тегов. | [String List](#string_list) |

<div align="center">

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yaml
eliteScript:
  Example:
    Conditions:
      hasTags:
      - isCool
      - hasANiceBeard
      Target:
        targetType: SELF
```

Будет выполняться только в том случае, если у босса есть теги "isCool" и "hasANiceBeard".

</div>

</details>

</div>


---

### doesNotHaveTags

То же, что и `hasTags`, но проверяет, что у босса нет этих значений.

| Ключ              |                        Описание                         |          Значения           |
|-------------------|:-------------------------------------------------------:|:---------------------------:|
| `doesNotHaveTags` | Устанавливает проверку, нет ли у сущности списка тегов. | [String List](#string_list) |

<div align="center">

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yaml
eliteScript:
  Example:
    Conditions:
      doesNotHaveTags:
      - isStinky
      - isSus
      Target:
        targetType: SELF
```

Будет выполняться только в том случае, если у босса нет тегов "isStinky" и "isSus".

</div>

</details>

</div>

## Другие условия

### randomChance

Дает условию случайный шанс быть действительным.

| Ключ           |                Описание                 |      Значения       |
|----------------|:---------------------------------------:|:-------------------:|
| `randomChance` | Шанс, что условие будет действительным. | Число от 0.0 до 1.0 |

Обратите внимание, что это условие является особым, поскольку оно не требует цели.

## Фильтрация NEARBY с тегами

Чтобы фильтровать `NEARBY_MOBS` или `NEARBY_PLAYERS` на основе определенных тегов, используйте `ACTION_TARGET` в
качестве цели условия (если условие применяется к действию, а не к самому скрипту). Это гарантирует, что скрипт точно
отфильтрует только мобов/игроков с указанными тегами.

<div align="center">

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yaml
eliteScript:
  Example:
    Actions:
    - action: SET_MOB_AI
      Target:
        targetType: NEARBY_MOBS
        range: 40
      bValue: false
      Conditions:
        hasTags:
          - TurnOff
        Target:
          targetType: ACTION_TARGET
```

Этот скрипт будет искать любых ближайших мобов с тегом `TurnOff`, и если у них есть тег, он отключит их ИИ.

</div>

</details>

</div>
