Инстансные подземелья имеют специальную настройку для легкого определения различных уровней сложности для подземелья.

# Как это работает

Сложности частично смоделированы по аналогии с системой синхронизации уровней в Final Fantasy 14.

Элитная броня и оружие получают особый элитный урон и элитную защиту, основанные на их уровне, как вы можете видеть на предметах. Когда игрок находится в инстанс-подземелье с включенной сложностью, уровень предмета временно и невидимо понижается, чтобы соответствовать синхронизации уровней.

Вот конкретный пример: меч 100-го уровня наносит 100 единиц урона без зачарования. Если игрок находится в инстанс-подземелье со сложностью, которая синхронизирует снаряжение до 50-го уровня, меч будет действовать как меч 50-го уровня и наносить 50 единиц урона.

Однако, если у этого меча есть заточка 10-го уровня, она по-прежнему будет добавлять то же количество урона поверх базового урона.

Это означает, что в инстанс-подземельях со сложностями значение имеет не столько уровень снаряжения, сколько его качество. Игрокам, стремящимся пройти мифическую сложность, придется поработать над получением качественных предметов из других инстанс-подземелий и, возможно, активно взаимодействовать с системой улучшения предметов.

Это также делает практически невозможным для опытных игроков "растоптать" старый контент высокой сложности и дает стимул проходить его, даже если их уровень значительно превышает уровень подземелья.

# Система групп

Чтобы учесть группы игроков, боссы разработаны со специальными способностями, которые становятся более опасными по мере присоединения к арене большего количества игроков. Кроме того, боссы получают нелинейный прирост здоровья по мере того, как к инстансу присоединяется больше игроков.

# Как определить сложность

Сложности определяются в папке `dungeonpackager` в файле пакета подземелья инстансных подземелий.

Давайте посмотрим на пример:

```yml
difficulties:
- levelSync: 60
  name: normal
- levelSync: 50
  name: hard
- levelSync: 40
  name: mythic
```

Это устанавливает три сложности. Сложности имеют два обязательных дополнительных поля: `name` и `levelSync`.

Имя — это название сложности, которое будет отображаться в настройках сложности в игре. Это может быть любое имя.

Синхронизация уровня устанавливает ограничение уровня предметов для инстанс-подземелья, как описано выше на этой странице.

Вы можете определить столько или столько сложностей, сколько захотите. Просто добавляйте или удаляйте записи в настройку сложностей, используя тот же формат.

## Способности, основанные на сложности

Можно настроить боссов так, чтобы они имели способности только на определенных сложностях. Давайте посмотрим на пример:

```yml
powers:
- filename: invulnerability_fire.yml
  difficultyID:
  - 1
  - 2
```

**Примечание: это часть файла конфигурации пользовательского босса!**

В этом случае у босса будет иммунитет к огню только на сложностях с идентификаторами `1` и `2`.

*При добавлении сложностей их идентификаторы будут начинать отсчет с 0 и увеличиваться по мере добавления новых сложностей.*

## Добыча, основанная на сложности

Можно настроить боссов так, чтобы они сбрасывали добычу, специфичную для сложности инстансного подземелья. Давайте посмотрим на пример:

```yml
uniqueLootList:
- filename: himiko_boss_drop_axe_tank_normal.yml
  chance: 0.05
  difficultyID: 0
```

**Примечание: это часть файла конфигурации пользовательского босса!**

В этом случае босс будет сбрасывать добычу `himiko_boss_drop_axe_tank_normal.yml` только для сложности `0` и имеет 5% шанс сделать это.
