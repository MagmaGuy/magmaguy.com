```markdown
# Создание пользовательских подкреплений

Если вы заинтересованы в призыве элиты во время боя для подкрепления босса, это руководство подробно описывает этот процесс.

## Шаги для создания пользовательского босса:

1. Создайте своего основного пользовательского босса, который будет призывать ваших пользовательских боссов.
2. Создайте пользовательского босса для подкреплений. Имейте в виду, что пользовательские боссы могут быть сильнее ванильных мобов, но они также могут быть и слабее.
3. Добавьте правильную строку подкрепления в файл конфигурации.

## Создание строки подкрепления

Предположим, у вас есть пользовательский босс в таком формате:

```yaml
isEnabled: true
entityType: ENDER_DRAGON
name: $eventBossLevel &eBinder of Worlds
level: 200
powers:
- ender_dragon_arrow_bombardment.yml
```

И вы хотите добавить к нему подкрепления. Вот как может выглядеть одно такое подкрепление:

```yaml
- summonType:ON_COMBAT_ENTER
  filename: binder_of_worlds_phase_1_parkour_reinforcement.yml
```

И чтобы сделать его действительным, добавьте его в список powers:

```yaml
isEnabled: true
entityType: ENDER_DRAGON
name: $eventBossLevel &eBinder of Worlds
level: 200
powers:
- ender_dragon_arrow_bombardment.yml
- summonType: ON_COMBAT_ENTER
  filename: binder_of_worlds_phase_1_parkour_reinforcement.yml
```

Теперь подкрепление добавлено к сущности босса. Однако, как вы видите, здесь есть несколько опций, которые вы можете настроить. Давайте рассмотрим их.

## Все опции пользовательских подкреплений

*Совет: Вы также можете использовать EliteScript для призыва подкреплений, подробнее об этом [здесь]($language$/elitemobs/elitescript_actions.md&section=summon_reinforcement).*

<div align="center">

### summonType

Это обязательное поле. Оно определяет, когда должно появиться подкрепление.

| Key    |   Values    | Default  |
|--------|:-----------:|:--------:|
| `summonType` | Special [1] | `ON_HIT` |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
summonType: ON_HIT
```

</div>

</details>

#### Special [1]

| Key | Description                                                                                       |
|-----|---------------------------------------------------------------------------------------------------|
|  `ONCE`   | Призывает подкрепление один раз, при первом попадании по боссу. (может зависеть от % шанса) |
| `ON_HIT`  | Призывает подкрепление каждый раз, когда по боссу попадают (может зависеть от % шанса)             |
| `ON_COMBAT_ENTER`    | Призывает подкрепление, когда босс вступает в бой (1)                                                                                                  |
| `ON_COMBAT_ENTER_PLACE_CRYSTAL`    |  Специальное: это конкретно для размещения кристаллов Края для битв с драконом, когда босс вступает в бой (1)                                                                                                 |
| `GLOBAL`    |  Призывает подкрепления для каждого игрока в том же мире, что и босс. Подкрепления появятся рядом с игроками, независимо от того, как далеко они находятся от босса. Для работы требуется установить поле `customSpawn`!                                                                                                 |

_(1) Боссы вступают в бой либо когда по ним попадают игроки, либо когда они обнаруживают игрока в пределах досягаемости._

***

### filename

Это обязательное поле, так как оно определяет, какое подкрепление должно появиться. Единственное исключение, делающее это поле необязательным, — это использование настройки `summonType: ON_COMBAT_ENTER_PLACE_CRYSTAL`, поскольку кристаллы Края не являются элитой.

| Key    |        Values         | Default |
|--------|:---------------------:|:-------:|
| `filename` | [Filename](#filename) |  none   |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
filename: test_boss.yml
```

</div>

</details>

</div>

***

**Минимальная жизнеспособность**

`summonType: SUMMON_TYPE` и `filename: filename.yml` сами по себе достаточны для создания пользовательского подкрепления. Следующий пример демонстрирует это.

<div align="center">

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yaml
isEnabled: true
entityType: ENDER_DRAGON
name: $eventBossLevel &eBinder of Worlds
level: 200
powers:
- ender_dragon_arrow_bombardment.yml
- summonType: ON_COMBAT_ENTER
  filename: binder_of_worlds_phase_1_parkour_reinforcement.yml
```

*Однако, если вам нужно что-то более сложное, продолжайте читать ниже, чтобы узнать, что еще вы можете сделать с этими опциями.*

</div>

</details>

</div>

<div align="center">

***

### chance

Это необязательное поле конфигурации, дополняющее опции `summonType` `ONCE` и `ON_HIT`. Оно представляет шанс появления пользовательского подкрепления при попадании по боссу.

| Key    |        Values         | Default |
|--------|:---------------------:|:-------:|
| `chance` | [Double](#double) |  none   |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
chance: 0.5
```
*Представляет 50% шанс появления пользовательского подкрепления.*

</div>

</details>

***

### location

`location: x,y,z` — это необязательное поле конфигурации, которое позволяет администраторам смещать местоположение подкрепления на определенное количество блоков. Вот основные концепции, которые вам нужно знать об этой опции:

**Смещение местоположения является относительным.** Это означает, что `location: 0,10,0` приведет к появлению босса ровно на 10 блоков выше босса, а не по мировым координатам 0,10,0.

**Относительное местоположение отличается для региональных боссов.** Региональные боссы всегда используют свою точку появления в качестве начала отсчета для относительного местоположения. Это означает, что если вы знаете, где находится точка появления босса, и посчитаете блоки, вы сможете заставить боссов-подкреплений появляться в очень конкретных позициях блоков, независимо от того, где находится босс-дракон. Логово Связывателя Миров полагается на это, чтобы заставить боссов башни испытаний появляться в чрезвычайно конкретных позициях блоков, независимо от того, где находится босс-дракон.

**Боссы будут появляться внутри блоков, если вы ошибетесь в измерении расстояний.**

| Key    |      Values       | Default |
|--------|:-----------------:|:-------:|
| `location` | [String](#string) |  none   |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
location: 0,10,0
```
*Для нерегионального пользовательского босса подкрепление появится ровно на 10 блоков выше босса, независимо от его текущего местоположения.*

*Для регионального пользовательского босса подкрепление появится ровно на 10 блоков выше точки появления регионального босса, независимо от текущего местоположения босса.*

</div>

</details>

_**Важное примечание: Это обязательное поле специально для `summonType: ON_COMBAT_ENTER_PLACE_CRYSTAL`!**_

***

### lightningRod

Это специальная настройка, полезная только для `summonType: ON_COMBAT_ENTER_PLACE_CRYSTAL`. Она дает кристаллам Края способность поражать молнией область вокруг себя с задержкой.

Ее нельзя использовать с другими пользовательскими подкреплениями, так как они должны полагаться на powers для такого рода способностей.

| Key    |       Values        | Default |
|--------|:-------------------:|:-------:|
| `lightningRod` | [Boolean](#boolean) | `false` |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
lightningRod: false
```

</div>

</details>

***

### inheritAggro

Это необязательное поле конфигурации, которое заставляет пользовательские подкрепления наследовать уровни угрозы босса.

Это особенно полезно, когда вы хотите, чтобы появляющиеся подкрепления атаковали игрока, наносящего наибольший урон.

| Key    |       Values        | Default |
|--------|:-------------------:|:-------:|
| `inheritAggro` | [Boolean](#boolean) | `false` |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
inheritAggro: false
```

</div>

</details>

***

### amount

Это необязательное поле конфигурации, которое устанавливает количество появляющихся подкреплений.

| Key    |       Values        | Default |
|--------|:-------------------:|:-------:|
| `amount` | [Integer](#integer) |   `1`   |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
amount: 1
```

</div>

</details>

***

### spawnNearby

Это необязательное поле конфигурации, которое определяет, должно ли пользовательское подкрепление появляться поблизости вместо того, чтобы появляться прямо на боссе или в определенном относительном местоположении.

Этот метод должен правильно учитывать изменения рельефа и не приводить к появлению боссов внутри стен, хотя в некоторых конфигурациях они могут появиться за стенами, если боевая зона слишком мала. Имеет радиус ~30 блоков.

| Key    |       Values        | Default |
|--------|:-------------------:|:-------:|
| `spawnNearby` | [Boolean](#boolean) | `false` |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
spawnNearby: false
```

</div>

</details>

***

### inheritLevel

Это необязательное поле конфигурации, которое определяет, должно ли пользовательское подкрепление наследовать уровень пользовательского босса, которого оно подкрепляет.

| Key    |       Values        | Default |
|--------|:-------------------:|:-------:|
| `inheritLevel` | [Boolean](#boolean) | `false` |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
inheritLevel: false
```

</div>

</details>

***

### customSpawn

Это поле конфигурации, которое используется только для глобальных подкреплений. Оно использует пользовательские настройки появления, чтобы определить, где подкрепления смогут появиться.

Это можно использовать, чтобы подкрепления могли появляться на поверхности, в освещенных местах, в определенных биомах и так далее. Подробнее см. на вики-странице о [Пользовательских точках появления]($language$/elitemobs/creating_spawns.md).

| Key    |        Values         | Default |
|--------|:---------------------:|:-------:|
| `customSpawn` | [Filename](#filename) |  none   |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
customSpawn: normal_surface_spawn.yml
```

</div>

</details>

</div>

## Сборка большого подкрепления

Давайте создадим пример подкрепления, используя большинство предыдущих полей:

```yaml
- summonType: ON_COMBAT_ENTER
  filename: test_boss.yml
  spawnNearby: true
  inheritAggro: true
  inheritLevel: true
```

Это делает следующее:

- Создает пользовательское подкрепление.
- Пользовательское подкрепление появится, когда пользовательский босс вступит в бой (`summonType: ON_COMBAT_ENTER`).
- Призванным пользовательским подкреплением будет то, что указано в `test_boss.yml` (`filename: test_boss.yml`).
- Пользовательское подкрепление появится в радиусе 30 блоков от текущего местоположения пользовательского босса (`spawnNearby: true`).
- Пользовательское подкрепление унаследует агрессию пользовательского босса, которого оно подкрепляет, что означает, что оно будет атаковать игрока, нанесшего наибольший урон (`inheritAggro: true`).
- Независимо от настройки в `test_boss.yml`, пользовательское подкрепление будет иметь тот же уровень, что и пользовательский босс, которого оно подкрепляет (`inheritLevel: true`).

```yaml
- summonType: ON_COMBAT_ENTER_PLACE_CRYSTAL
  location: -80,10,0
  lightningRod: true
```

Это делает следующее:

- Создает пользовательское подкрепление.
- Пользовательским подкреплением будет кристалл Края, который размещается при начале боя (`summonType: ON_COMBAT_ENTER_PLACE_CRYSTAL`).
- Кристалл Края будет поражать землю вокруг с задержкой (`lightningRod: true`).

Теперь применим это к пользовательскому боссу:

```yaml
isEnabled: true
entityType: ENDER_DRAGON
name: $eventBossLevel &eBinder of Worlds
level: 200
powers:
- ender_dragon_arrow_bombardment.yml
- summonType: ON_COMBAT_ENTER
  filename: test_boss.yml
  spawnNearby: true
  inheritAggro: true
  inheritLevel: true
- summonType: ON_COMBAT_ENTER_PLACE_CRYSTAL
  location: -80,10,0
  lightningRod: true
```

И готово! Вот еще несколько советов:

- Поля могут быть расположены в любом порядке, хотя рекомендуется всегда ставить `summonable` первым!
- Это большое улучшение по сравнению со старой системой подкреплений, которая больше не перечисляется. На данный момент не рекомендуется полагаться на нее, так как в будущем она может перестать работать.
```