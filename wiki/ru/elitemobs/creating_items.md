[![webapp_banner.jpg](../../../img/wiki/webapp_banner.jpg)](https://magmaguy.com/webapp/webapp.html)

# Создание  Custom Items

## Что такое  Custom Items?

 Custom Items - это предметы, которые определяются EliteMobs через файлы конфигурации. Вы можете настроить многие параметры этих предметов, например, уровень предмета, зачарования, название, описание, текстуру и многое другое!

## Webapp

Вы можете легко и быстро создавать  Custom Loot  [здесь](https://magmaguy.com/webapp/webapp.html)!

## Прежде чем начать

### Где хранятся  Custom Items?

Файлы  Custom Items  находятся в папке конфигурации `~/plugins/EliteMobs/customitems`

Можно создавать подпапки, например, `~/plugins/EliteMobs/customitems/myitems`. Это рекомендуется для удобства организации.

Файлы хранятся в формате `.yml`, а [Notepad++](https://notepad-plus-plus.org/) - это рекомендуемый редактор для работы с конфигурационными файлами. Один файл определяет один босс, хотя можно несколько раз создавать одного и того же босса и даже задавать несколько точек появления для одного и того же файла босса.

Можно использовать [webapp](https://magmaguy.com/webapp/webapp.html) для быстрого и простого создания  Custom Bosses и не только.

<div align="center">

### Минимальная конфигурация

**Обратите внимание, что минимальный возможный файл конфигурации для Custom Item:**

```yml
```

Обратите внимание, что это просто пустой файл. По умолчанию он будет использовать деревянный меч с названием "Default name". **Все на этой странице - опционально!**

### Пример предмета

Давайте посмотрим на пример того, как выглядит файл предмета.

<details> 
<summary><b>Пример</b></summary>

<div align="left">

```yml
isEnabled: true
material: WOODEN_AXE
name: '&4Test item'
lore:
- This is a cool item
- It has cool lore
enchantments:
- DAMAGE_ALL,4
- FLAMETHROWER,1
potionEffects:
- FAST_DIGGING,0,self,onHit
- POISON,0,target,onHit
- GLOWING,0,self,continuous
dropWeight: dynamic
scalability: scalable
itemType: custom
```

</div>

</details>

</div>

##  Настройки Custom Item

Ниже приведен список всех параметров, которые можно настроить для  Custom Items:

<div align="center">

***

### isEnabled

Включает или выключает предмет. Не влияет на предметы, которые уже были сгенерированы.

| Ключ | Значения | По умолчанию |
|-|:-:|-|
| `isEnabled` | `true` / `false` | `true` |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
isEnabled: true
```

</div>

</details>

***

### material

Материал предмета.

| Ключ | Значения | По умолчанию |
|-|:-:|-|
| `material` | [Выберите из этого списка!](https://hub.spigotmc.org/javadocs/spigot/org/bukkit/Material.html) | `WOODEN_SWORD` |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
material: DIAMOND_SWORD
```

</div>

</details>


***

### level

Уровень предмета.

| Ключ | Значения | По умолчанию |
|-|:-:|-|
| `level` | [Integer](#integer) | `0` |

Обратите внимание, что эта настройка не актуальна, если вы установили для предмета [`scalability`](#scalability) значение `scalable`. Если вы установите его как `limited`, то это будет максимальный возможный уровень предмета.

Также у материалов есть минимальный уровень. Железные материалы - уровень 6, алмазные материалы - уровень 7. Вы не можете заставить предметы быть ниже уровня материалов.

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
level: 100
```

</div>

</details>


***

### name

Отображаемое имя предмета.

| Ключ | Значения | По умолчанию |
|-|:-:|-|
| `material` | [Строка](#string) с [цветами](#color-codes) | "Default name" |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
name: "&2Cool item"
```

<div align="center">

![create_item_name.jpg](../../../img/wiki/create_item_name.jpg)

</div>

</div>

</details>

***

### lore

Описание предмета.

| Ключ | Значения | По умолчанию |
|-|:-:|-|
| `lore` | [Список](#list) с [цветами](#color-codes) | none |

<details> 

<summary><b>Пример</b></summary>

<div align="left">

```yml
lore:
- "&2This is the coolest sword"
- "&2of all time!"
```

<div align="center">

![create_item_lore.jpg](../../../img/wiki/create_item_lore.jpg)

</div>

</div>

</details>

***

### enchantments

Зачарования предмета.

| Ключ |                                                                                                       Значения                                                                                                        | По умолчанию |
|-|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|-|
| `enchantments` | [Список](#list) с [зачарованиями Minecraft](https://hub.spigotmc.org/javadocs/spigot/org/bukkit/enchantments/Enchantment.html) или [EliteMobs Custom Enchantments]($language$/elitemobs/custom_enchantments_list.md) | none |

Обратите внимание, что эти записи следуют формату `enchantmentName:enchantmentLevel`. Проверьте пример ниже!

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
enchantments: 
- "DAMAGE_UNDEAD,8"
- "DURABILITY,4"
- "DAMAGE_ALL,7"
- "LOUD_STRIKES,3"
```

<div align="center">

![create_item_enchantments.jpg](../../../img/wiki/create_item_enchantments.jpg)

</div>

</div>

</details>

Также обратите внимание, что зачарования, такие как заточка, по умолчанию становятся элитной заточкой, если уровень начинает превышать ограничения vanilla Minecraft.

***

### potionEffects

Эффекты зелий, которые будет иметь предмет. Они могут быть применены к игроку или к сущности, получившей урон от игрока.

| Ключ | Значения | По умолчанию |
|-|:-:|-|
| `potionEffects` | [Список](#list) с [зельями Minecraft](https://hub.spigotmc.org/javadocs/spigot/org/bukkit/potion/PotionEffectType.html)| none |

Кроме того, эффекты зелий используют определенный формат, который позволяет администраторам выбирать, кто и когда будет ими затронут:

| Настройка | Описание | Значения | По умолчанию |
|-|:-:|:-:|-|
| Уровень эффекта зелья | Устанавливает уровень эффекта зелья. **Эффекты зелий начинаются с уровня 0**!  | [Integer](#integer) | none |
| Затронутая сущность | Устанавливает, кто будет затронут эффектом зелья.  | `self` (игрок) / `target` (сущность, получившая урон) | none |
| Способ применения | Устанавливает, когда эффект зелья будет применен.  | `onHit` / `continuous` (постоянное повторное применение) | none |

Формат для эффектов зелий - `potionEffectName,potionEffectLevel,affectedEntity,applicationMethod`. Проверьте пример ниже!

EliteMobs также включает в себя  Custom Items, которые работают как амулеты. Эти предметы не делают ничего, кроме как дают игроку эффекты зелий, когда он их держит или надевает.

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
potionEffects: 
- "POISON,0,target,onHit"
- "HEAL,1,self,onHit"
- "NIGHT_VISION,0,self,continuous"
```

<div align="center">

![create_item_potion_effects.jpg](../../../img/wiki/create_item_potion_effects.jpg)

</div>

</div>

С помощью этого набора эффектов зелий произойдет следующее:

При попадании эффект зелья яда (уровень 1) будет нанесен сущности, которая получила урон от игрока. Кроме того, игрок будет затронут эффектом зелья мгновенного исцеления 2-го уровня.

Постоянно игроку будет даваться ночное зрение. Это означает, что игрок будет иметь ночное зрение до тех пор, пока он будет носить или держать этот предмет.

</details>

***

### scalability

Как уровень предмета увеличивается с уровнем босса, который его оставляет.

| Ключ | Значения | По умолчанию |
|-|:-:|-|
| `scalability` | `fixed`, `limited` или `scalable`. См. ниже! | scalable |

Просмотрите этот список, чтобы понять, что делают разные варианты!

| Настройка | Описание |
|-|:-:|
| `fixed` | Уровень предмета всегда будет равен уровню, установленному в конфигурационном файле. |
| `limited` | Максимальный уровень предмета будет ограничен уровнем, установленным в конфигурационном файле, или уровнем босса, в зависимости от того, какой из них меньше. |
| `scalable` | Уровень предмета будет полностью зависеть от уровня босса, который его оставляет. |

Обратите внимание, что предметы с dropWeight всегда будут иметь `fixed` scalability.

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
scalability: "scalable"
```

</div>

</details>

***

### itemType

Где можно получить этот предмет.

| Ключ | Значения | По умолчанию |
|-|:-:|-|
| `itemType` | `custom` или `unique`. См. ниже! | `custom` |

Существует два типа предметов:

| Настройка | Описание |
|-|:-:|
| `custom` | Предмет может быть оставлен любым мобом EliteMobs, который может оставлять лут, и будет находиться в  Custom Shop. `
| `unique` | Предмет не будет оставлен ни одним боссом и не будет в  Custom Shop. Единственный способ получить его - настроить  Custom Boss, чтобы он оставлял его в своей таблице  `uniqueLootTable`! |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
itemType: "unique"
```

</div>

</details>

***

### dropWeight

Таблица лута, в которую входит этот предмет.

| Ключ |                  Значения                  | По умолчанию |
|-|:----------------------------------------:|-|
| `dropWeight` | `dynamic` или значение [Double](#double). | `dynamic` |

EliteMobs имеет 5 разных таблиц лута для  Custom Items, исключая те, которые настроены напрямую, как `uniqueLootList` для  Custom Bosses.

Они следующие:

| Таблица лута | Описание | Весовой коэффициент по умолчанию |
|-|:-:|:-:|
| Процедурно сгенерированные предметы | Предметы, которые генерируются случайным образом на основе конфигурационных файлов сервера | `90.0` |
|  Предметы с весом |  Предметы, имеющие вес, отличный от `dynamic` | `1.0` |
|  Предметы с фиксированным весом |  Предметы, имеющие фиксированный scalability | `10.0` |
|  Предметы с ограниченным весом |  Предметы, имеющие ограниченный scalability | `3.0` |
|  Предметы с масштабируемым весом |  Предметы, которые масштабируются | `6.0` |

Когда босс умирает, один предмет из этих таблиц выбирается на основе конфигурационного файла ItemSettings.yml. Значения по умолчанию для весовых коэффициентов указаны выше в `Весовой коэффициент по умолчанию`. Чем выше весовой коэффициент, тем больше вероятность того, что предмет выпадет.

`Предметы с весом` имеют маленький `Весовой коэффициент по умолчанию`, что означает, что они будут выпадать не так часто. Предметы с `dropWeight`, отличным от `dynamic`, предназначены для того, чтобы быть редкими, и используются только в значениях по умолчанию для амулетов, которые выпадают из боссов - предметов, которые не используются непосредственно для боя, а скорее для того, чтобы давать игрокам эффекты зелий.

`dropWeight`, который вы задаете здесь, устанавливает шанс выпадения конкретного `Предмета с весом` из списка `Предметов с весом`. Он не увеличивает шанс выпадения `Предметов с весом`.

**Если вы запутались и просто хотите создать оружие и броню, пропустите эту настройку, так как она по умолчанию правильно установлена как `dynamic`.**

`Предметы с весом` обычно имеют вес 1.0.

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
dropWeight: "dynamic"
```

</div>

</details>


***

### customModelID

Текстура предмета. Требуется использовать допустимую текстуру из текстурного пакета!

| Ключ | Значения | По умолчанию |
|-|:-:|-|
| `customModelID` | [Integer](#integer) | none |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
material: DIAMOND_SWORD
customModelID: 1
```

</div>

Это будет использовать  Custom Texture 1 для алмазных мечей из текстурного пакета, используемого игроком. Рекомендуется настроить сервер так, чтобы он выдавал игрокам текстурные пакеты при входе, если вы хотите использовать этот функционал правильно.

</details>

***

### permission

Разрешение, необходимое для получения предмета.

| Ключ | Значения | По умолчанию |
|-|:-:|-|
| `permission` | [String](#string) | none |

Вам нужен plugin для управления разрешениями, чтобы давать игрокам разрешения. Это будет работать только в том случае, если вы не отключили  enchantment Soulbind.

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
permission: "elitemobs.cool.permission"
```

</div>

В этой конфигурации только игроки с разрешением `elitemobs.cool.permission` смогут получить этот предмет.

</details>

***

### soulbound

Определяет, должен ли предмет быть  soulbound  при получении.

| Ключ |       Значения        | По умолчанию |
|-|:-------------------:|---------|
| `soulbound` | [Boolean](#boolean) | `true`  |

<details>

<summary><b>Пример</b></summary>

<div align="left">

```yml
soulbound: true
```

</div>

</details>


</div>


