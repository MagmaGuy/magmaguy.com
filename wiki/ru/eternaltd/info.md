# Как создать пользовательскую карту EternalTD

## Создание файла level.yml для вашей карты

Начните создание своей карты с файла конфигурации уровня, выполнив следующие простые шаги:

1.  Начните с создания нового текстового документа и дайте ему имя, например, *your_level_name.yml* (замените "your_level_name" на фактическое название вашего уровня/карты).

2.  Откройте файл в своем любимом текстовом редакторе.

3.  Начнем с самого интересного! Добавьте название вашего уровня, используя эту настройку:
```yaml
levelName: "&aМой крутой уровень"
```
Не стесняйтесь приправить его цветами Minecraft или другими модификаторами текста.

4.  Теперь придайте своему уровню характер с помощью классного описания:
```yaml
levelDescription:
- "&aМой уровень довольно крутой."
- "&aНадеюсь, вам понравится!"
```
Вы можете добавить больше строк в описание, но лучше, если оно будет кратким.

5.  Время для волн! Укажите, какие волны EternalTD должен использовать ваш уровень:
```yaml
wavesConfigFile: my_waves.yml
```
Просто не забудьте использовать фактическое имя вашего файла волн. Одна волна на уровень!

6.  Установите мир (сборку), который будет использовать ваш уровень:
```yaml
worldName: my_world_folder_name
```
Используйте фактическое имя мира, находящееся в папке *worlds* EternalTD.

7.  И последнее, но не менее важное: выберите идеальную среду для настройки вашего уровня:
```yaml
environment: NORMAL
```
Вы можете выбрать между NORMAL, NETHER или THE_END. Выбирайте.

Файл конфигурации вашего уровня готов! Остальная часть файла будет заполнена командами EternalTD, которые мы будем использовать на следующих шагах, когда будем составлять карту сборки.

## Подготовка вашей сборки
Прежде чем наносить на карту вашу сборку для использования с EternalTD, важно настроить ее следующим образом:

-   Установите его в пустой мир. Если вы используете Multiverse, вы можете использовать команду:
  ```
  /mvcreate yourworldnamehere NORMAL -g VoidGen:.
  ```
-   Имейте плотную границу мира вокруг сборки.
-   Создайте барьерный цилиндр на несколько блоков ниже сборки высотой в один блок и радиусом, достаточно большим, чтобы достичь границы мира (рекомендуется радиус 200 блоков). Используя WorldEdit, вы можете выполнить:
  ```
  //cyl barrier 200 1
  ```
-   Установите точку появления в центре сборки в безопасном месте.
-   Примените следующие правила:
    -   /gamerule doWeatherCycle false
    -   /gamerule doDaylightCycle false
    -   /gamerule doMobSpawning false
    -   /gamerule doFireTick false
    -   /gamerule fireDamage false
    -   /gamerule mobGriefing false
    -   /gamerule disableRaids true
    -   /gamerule announceAdvancements false
-   Игровая зона карты должна находиться на одном уровне Y. Все, что выше или ниже, будет проигнорировано, когда мы начнем процесс нанесения на карту.

## Нанесение сборки на карту для использования с EternalTD
Чтобы нанести на карту игровую зону вашей сборки для использования с EternalTD, выполните следующие шаги:

1.  Вручную измерьте сборку, убедившись, что включена только игровая зона, и ничего лишнего. Запишите координаты во время измерения.
<br>Игровая зона должна включать начальный (спавн монстров) и конечный участки карты. Начало обычно строится с использованием зеленых блоков, а конец — с использованием красных блоков.


2.  Начните с измерения осей X, Y и Z сборки. Встаньте в одном углу игровой зоны вашей карты на оси X и запишите указанную координату (для этого вы можете использовать координаты блока). Перейдите на противоположную сторону оси X и запишите эту координату.


3.  Для оси Y встаньте на **игровую зону** и запишите указанную координату.


4.  Повторите тот же процесс, что и для оси X, чтобы измерить ось Z. Вы можете взглянуть на это примерное изображение, чтобы понять, чего мы пытаемся достичь здесь:
   ![Пример нанесения на карту](https://i.imgur.com/IZfh2Nt.jpeg)
   Обратите внимание, что мы измеряем только координаты, где мы хотим, чтобы находилась наша игровая зона, и игнорируем остальное. Как в примере, пожалуйста, убедитесь, что вы включаете начало и конец при измерении игровой зоны. <br>Если игровая зона, которую вы измеряете, шире на одном конце и уже на другом, вам следует измерить самую широкую часть.


5.  После завершения измерений у вас должно получиться что-то вроде этого:
   ```
   Ось X: -57, 56
   Ось Y: 65
   Ось Z: 34, -34
   ```

6.  Переставьте эти числа от наибольшего к наименьшему, чтобы получить два полных набора координат XYZ:
   ```
   56 65 34 (наибольшие значения XYZ)
   -57 65 -34 (наименьшие значения XYZ)
   ```

7.  Используйте следующую команду для выбора координат:
   ```
   /etd selectfloorcoordinate Xhigh Y Zhigh Xlow Y Zlow
   Пример: /etd selectfloorcoordinate 56 65 34 -57 65 -34
   ```

8.  Координаты теперь выбраны и находятся в памяти. Если вы получаете ошибку, значит, ваши измерения были неверными или игровая зона была построена неправильно. Чтобы проверить, правильно ли мы нанесли на карту игровую зону, выполните следующую команду:
   ```
   /etd register your_level_name.yml test
   ```
   Замените "your_level_name" на фактическое название уровня/карты, который вы пытаетесь создать. Если все сделано правильно, вы должны увидеть барьеры, отмечающие каждую плитку в вашей игровой зоне.


9.  Пройдите по игровой зоне и убедитесь, что все выглядит так, как должно, а затем снова запустите команду, но на этот раз без *test* в конце.
   ````
   /etd register your_level_name.yml
   ````
   Теперь это сохранит игровую зону в вашем файле уровня, и ваш файл уровня теперь должен быть готов к использованию.

## Обрезка папки мира
В папке вашего мира есть несколько файлов и папок, которые мы можем отбросить, поскольку EternalTD не использует их все. Это уменьшит размер вашего мира и упростит его распространение.

Для среды NORMAL:

Чтобы подготовить свой мир, **сохраните** следующие файлы и папки:

1.  папка **region**


2.  **raids.dat** из папки **data** (убедитесь, что она находится внутри папки **data** при копировании)


3.  файл **level.dat**

Вы можете безопасно удалить все остальные файлы и папки, находящиеся в папке мира. Это правильно настроит ваш мир для нормальной среды.

Для среды NETHER и THE_END:

Чтобы подготовить свой мир, сохраните следующие файлы и папки:

1.  папка **region** внутри папки **DIM-1** (убедитесь, что она находится внутри папки **DIM-1** при копировании)


2.  **raids.dat** из папки **data** (убедитесь, что она находится внутри папки **data** при копировании)


3.  файл **level.dat**

Вы можете безопасно удалить все остальные файлы и папки, находящиеся в папке мира. Это правильно настроит ваш мир для сред NETHER и THE_END.
