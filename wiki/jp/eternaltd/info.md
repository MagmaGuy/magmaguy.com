# カスタムEternalTDマップの作成方法

## マップのlevel.ymlファイルを作成する

以下の簡単な手順に従って、レベル設定ファイルを作成してマップを開始しましょう。

1. 新しいテキストドキュメントを作成し、「*your_level_name.yml*」のような名前を付けます（「your_level_name」は実際のレベル/マップ名に置き換えてください）。

2. お気に入りのテキストエディタでファイルを開きます。

3. 楽しいところから始めましょう！次の設定を使用して、レベルの名前を追加します。
```yaml
levelName: "&a私の素晴らしいレベル"
```
Minecraftの色やその他のテキスト修飾子を使って、自由に飾り付けしてください。

4. 次に、クールな説明でレベルに個性を与えます。
```yaml
levelDescription:
- "&a私のレベルはかなりクールです。"
- "&a楽しんでね！"
```
説明にはさらに行を追加できますが、簡潔にまとめるのが良いでしょう。

5. ウェーブの時間です！レベルで使用するEternalTDのウェーブを指定します。
```yaml
wavesConfigFile: my_waves.yml
```
ウェーブファイルの実際の名前を使用することを忘れないでください。1レベルにつき1ウェーブです！

6. レベルで使用するワールド（ビルド）を設定します。
```yaml
worldName: my_world_folder_name
```
EternalTDの*worlds*フォルダー内にある実際のワールド名を使用します。

7. 最後に、レベルの設定に最適な環境を選択します。
```yaml
environment: NORMAL
```
NORMAL、NETHER、またはTHE_ENDから選択できます。お好みのものを選んでください。

これでレベル設定ファイルが完成しました！ファイルの残りの部分は、次のステップでビルドをマッピングするときに使用するEternalTDコマンドによって埋められます。

## ビルドの準備
EternalTDで使用するためにビルドをマッピングする前に、以下の方法で設定することが重要です。

- Voidワールドに設定します。Multiverseを使用している場合は、次のコマンドを使用できます。
  ```
  /mvcreate yourworldnamehere NORMAL -g VoidGen:.
  ```
- ビルドの周囲に狭いワールドボーダーを設定します。
- ビルドの下数ブロックに、高さ1ブロック、ワールドボーダーに届くのに十分な半径（半径200ブロック推奨）のバリア円柱を作成します。WorldEditを使用すると、次のコマンドを実行できます。
  ```
  //cyl barrier 200 1
  ```
- スポーン地点を安全な場所のビルドの中心に設定します。
- 次のルールを適用します。
    - /gamerule doWeatherCycle false
    - /gamerule doDaylightCycle false
    - /gamerule doMobSpawning false
    - /gamerule doFireTick false
    - /gamerule fireDamage false
    - /gamerule mobGriefing false
    - /gamerule disableRaids true
    - /gamerule announceAdvancements false
- マップのプレイエリアは同じYレベルである必要があります。これより高いまたは低いものは、マッピングプロセスを開始するときに無視されます。

## EternalTDで使用するためのビルドのマッピング
EternalTDで使用するためにビルドのプレイエリアをマッピングするには、次の手順に従います。

1. 手動でビルドを測定し、プレイエリアのみを含め、それ以外は含めないようにしてください。測定するときに座標をメモします。
<br>プレイエリアには、マップの開始（モンスターのスポーン）セクションと終了セクションを含める必要があります。開始は通常、緑色のブロックで構築され、終了は赤色のブロックで構築されます。

2. まず、ビルドのX、Y、Z軸を測定します。マップのプレイエリアのX軸の1つの角に立ち、報告された座標を書き留めます（これにはブロック座標を使用できます）。X軸の反対側に移動し、その座標を書き留めます。

3. Y軸については、**プレイエリア**に立ち、報告された座標を書き留めます。

4. X軸の場合と同様のプロセスを繰り返して、Z軸を測定します。この例の画像を見て、ここで何をしようとしているのかを理解してください。
   ![マッピングの例](https://i.imgur.com/IZfh2Nt.jpeg)
   プレイエリアにしたい座標のみを測定し、残りは無視していることに注意してください。例のように、プレイエリアを測定するときは、必ず開始と終了を含めてください。<br>測定しているプレイエリアの一方の端が広く、もう一方の端が狭い場合は、最も広いセクションを測定する必要があります。

5. 測定を完了すると、次のようになります。
   ```
   X軸：-57、56
   Y軸：65
   Z軸：34、-34
   ```

6. これらの数字を高い順から低い順に並べ替えて、2組の完全なXYZ座標を取得します。
   ```
   56 65 34（最大のXYZ値）
   -57 65 -34（最小のXYZ値）
   ```

7. 次のコマンドを使用して、座標を選択します。
   ```
   /etd selectfloorcoordinate Xhigh Y Zhigh Xlow Y Zlow
   例：/etd selectfloorcoordinate 56 65 34 -57 65 -34
   ```

8. これで座標が選択され、メモリに格納されました。エラーが発生した場合は、測定が正しくないか、プレイエリアが正しく構築されていません。プレイエリアが正しくマッピングされたかどうかを確認するには、次のコマンドを実行します。
   ```
   /etd register your_level_name.yml test
   ```
   「your_level_name」を、作成しようとしている実際のレベル/マップ名に置き換えます。すべてが正しく行われた場合、プレイエリア内のすべてのタイルを示すバリアが表示されるはずです。

9. プレイエリアを調べて、すべてが正しく表示されていることを確認してから、今度は最後に*test*を付けずにコマンドを再度実行します。
   ````
   /etd register your_level_name.yml
   ````
   これにより、プレイエリアがレベルファイルに保存され、レベルファイルが使用できるようになります。

## ワールドフォルダのトリミング
EternalTDでは使用しないファイルやフォルダがワールドフォルダにいくつかあるので、これらを破棄できます。これにより、ワールドのサイズが縮小され、配布が容易になります。

NORMAL環境の場合：

ワールドを準備するには、次のファイルとフォルダを**保持**します。

1.  **region**フォルダ

2.  **data**フォルダ内の**raids.dat**（コピーするときは、必ず**data**フォルダ内にあるようにしてください）

3.  **level.dat**ファイル

ワールドフォルダにある他のすべてのファイルとフォルダは、安全に削除できます。これにより、NORMAL環境に合わせてワールドが正しく設定されます。

NETHERおよびTHE_END環境の場合：

ワールドを準備するには、次のファイルとフォルダを保持します。

1. **DIM-1**フォルダ内の**region**フォルダ（コピーするときは、必ず**DIM-1**フォルダ内にあるようにしてください）

2.  **data**フォルダ内の**raids.dat**（コピーするときは、必ず**data**フォルダ内にあるようにしてください）

3.  **level.dat**ファイル

ワールドフォルダにある他のすべてのファイルとフォルダは、安全に削除できます。これにより、NETHERおよびTHE_END環境に合わせてワールドが正しく設定されます。
