# カスタムEternalTDマップの作成方法

## マップ用のlevel.ymlファイルの作成

次の簡単な手順に従って、レベル設定ファイルを作成し、マップを作成しましょう。

1. 新しいテキストドキュメントを作成し、*your_level_name.yml* のような名前を付けます（"your_level_name"
   は実際のレベル/マップ名に置き換えてください）。

2. お気に入りのテキストエディタでファイルを開きます。

3. 楽しい部分から始めましょう！次の設定を使用してレベルの名前を追加します。
```yaml
levelName: "&a素晴らしいレベル"
```

Minecraftの色やその他のテキスト修飾子を使って自由に飾り付けてください。

4. 次に、クールな説明でレベルに個性を与えましょう。
```yaml
levelDescription:
- "&a私のレベルはかなりクールです。"
- "&a楽しんでください！"
```

説明に複数行を追加できますが、簡潔に保つのが良いでしょう。

5. ウェーブの時間です！レベルで使用するEternalTDウェーブを指定します。
```yaml
wavesConfigFile: my_waves.yml
```

実際のウェーブファイル名を使用することを忘れないでください。レベルごとに1つのウェーブです！

6. レベルが使用するワールド（ビルド）を設定します。
```yaml
worldName: my_world_folder_name
```

EternalTDの *worlds* フォルダ内にある実際のワールド名を使用します。

7. 最後に、レベルの設定に最適な環境を選択します。
```yaml
environment: NORMAL
```

NORMAL、NETHER、THE_ENDから選択できます。お好みのものを選んでください。

レベルの設定はこれで完了です！ファイルの残りの部分は、次のステップでビルドをマップするときに使用するEternalTDコマンドによって入力されます。

## ビルドの準備

EternalTDで使用するためのビルドをマップする前に、次の方法で設定することが不可欠です。

- ボイドワールドに設定します。マルチバースを使用している場合は、次のコマンドを使用できます。
  ```
  /mvcreate yourworldnamehere NORMAL -g VoidGen:.
  ```
- ビルドの周囲に狭いワールドボーダーを設けます。
- ビルドの下数ブロックに、高さ1ブロック、ワールドボーダーに届くのに十分な半径（推奨半径200ブロック）のバリアシリンダーを作成します。WorldEditを使用すると、次を実行できます。
  ```
  //cyl barrier 200 1
  ```
- スポーンポイントを安全な場所のビルドの中心に設定します。
- 次のルールを適用します。
    - /gamerule doWeatherCycle false
    - /gamerule doDaylightCycle false
    - /gamerule doMobSpawning false
    - /gamerule doFireTick false
    - /gamerule fireDamage false
    - /gamerule mobGriefing false
    - /gamerule disableRaids true
    - /gamerule announceAdvancements false
- マップのプレイエリアは同じYレベルである必要があります。それより高いまたは低いものは、マッピングプロセスを開始するときに無視されます。

## EternalTDで使用するためのビルドのマッピング

EternalTDで使用するためのビルドのプレイエリアをマップするには、次の手順に従います。

1. 手動でビルドを測定し、プレイエリアのみを含め、それ以外のものは含めないようにしてください。測定しながら座標を書き留めます。
   <br>プレイエリアには、マップの開始（モンスターのスポーン）と終了セクションを含める必要があります。開始は通常緑色のブロックを使用して構築され、終了は赤色のブロックを使用します。

2. まず、ビルドのX、Y、Z軸を測定します。マップのプレイエリアのX軸上の1つのコーナーに立ち、報告された座標を書き留めます（これにはブロック座標を使用できます）。X軸の反対側に移動し、その座標を書き留めます。

3. Y軸については、**プレイエリア**に立ち、報告された座標を書き留めます。

4. X軸の場合と同じプロセスを繰り返して、Z軸を測定します。私たちがここで達成しようとしていることを理解するのに役立つこのサンプル画像をご覧ください。
   ![マッピング例](https://i.imgur.com/IZfh2Nt.jpeg)
   プレイエリアにしたい座標のみを測定しており、残りは無視していることに注意してください。例のように、プレイエリアを測定するときは必ず開始と終了を含めてください。<br>
   測定しているプレイエリアの一方の端が広く、もう一方の端が狭い場合は、最も広いセクションを測定する必要があります。

5. 測定が完了すると、次のようになります。
   ```
   X軸：-57、56
   Y軸：65
   Z軸：34、-34
   ```

6. これらの数値を高い順から低い順に並べ替えて、XYZ座標の2つの完全なセットを取得します。
   ```
   56 65 34 (最も高いXYZ値)
   -57 65 -34 (最も低いXYZ値)
   ```

7. 次のコマンドを使用して座標を選択します。
   ```
   /etd selectfloorcoordinate Xhigh Y Zhigh Xlow Y Zlow
   例：/etd selectfloorcoordinate 56 65 34 -57 65 -34
   ```

8. これで座標が選択され、メモリに保存されました。エラーが発生した場合は、測定が正しくないか、プレイエリアが正しく構築されていませんでした。プレイエリアが正しくマップされているかどうかを確認するには、次のコマンドを実行します。
   ```
   /etd register your_level_name.yml test
   ```

"your_level_name" を作成しようとしている実際のレベル/マップ名に置き換えます。すべてが正しく行われた場合は、プレイエリアのすべてのタイルをマークするバリアが表示されます。

9. プレイエリアを確認し、すべてが適切に見えることを確認してから、もう一度コマンドを実行しますが、今回は最後に *test*
   を付けないでください。
   ````
   /etd register your_level_name.yml
   ````

これでプレイエリアがレベルファイルに保存され、レベルファイルを使用する準備が整います。

## ワールドフォルダーのトリミング

EternalTDはすべてのファイルを使用しないため、ワールドフォルダーにあるいくつかのファイルとフォルダーを破棄できます。これにより、ワールドのサイズが小さくなり、配布が容易になります。

NORMAL環境の場合：

ワールドを準備するには、次のファイルとフォルダーを**保持**します。

1. **region** フォルダー

2. **data** フォルダー内の **raids.dat** （コピー時に **data** フォルダー内にあることを確認してください）

3. **level.dat** ファイル

ワールドフォルダーにある他のすべてのファイルとフォルダーは安全に削除できます。これにより、NORMAL環境用にワールドが正しく設定されます。

NETHERおよびTHE_END環境の場合：

ワールドを準備するには、次のファイルとフォルダーを保持します。

1. **DIM-1** フォルダー内の **region** フォルダー （コピー時に **DIM-1** フォルダー内にあることを確認してください）

2. **data** フォルダー内の **raids.dat** （コピー時に **data** フォルダー内にあることを確認してください）

3. **level.dat** ファイル

ワールドフォルダーにある他のすべてのファイルとフォルダーは安全に削除できます。これにより、NETHERおよびTHE_END環境用にワールドが正しく設定されます。
