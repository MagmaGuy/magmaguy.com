```markdown
[![webapp_banner.jpg](../../../img/wiki/webapp_banner.jpg)](https://magmaguy.com/webapp/webapp.html)

# カスタム EternalTD マップの作成

## マップの `level.yml` ファイルの作成

次の簡単な手順に従って、レベル設定ファイルを作成し、マップの作成を開始します。

1. まず、新しいテキストドキュメントを作成し、*your_level_name.yml* などの名前を付けます（「your_level_name」を実際のレベル/マップ名に置き換えます）。

2. お気に入りのテキストエディタでファイルを開きます。

3. 楽しい部分を始めましょう！次の設定を使用して、レベルの名前を追加します。
```yaml
levelName: "&aMy Awesome Level"
```
Minecraft の色やその他のテキスト修飾子を使用して、レベルを盛り上げましょう。

4. 次に、レベルにクールな説明文を追加して、個性を与えましょう。
```yaml
levelDescription:
- "&aMy level is pretty cool."
- "&aHope you enjoy!"
```
説明文にさらに多くの行を追加できますが、簡潔にしておくのがよいでしょう。

5. ウェーブの時間を設定しましょう！レベルで使用する EternalTD ウェーブを指定します。
```yaml
wavesConfigFile: my_waves.yml
```
ウェーブファイルの実際のファイル名を使用することを忘れないでください。レベルごとに 1 つのウェーブです！

6. レベルで使用するワールド（ビルド）を設定します。
```yaml
worldName: my_world_folder_name
```
EternalTD の *worlds* フォルダ内にある、実際のワールド名を使用します。

7. 最後に、レベルの設定に最適な環境を選びます。
```yaml
environment: NORMAL
```
NORMAL、NETHER、THE_END のいずれかを選択できます。好きなものを選んでください。

レベル設定ファイルの準備ができました！残りのファイルは、ビルドをマッピングする次の手順で使用する EternalTD コマンドによって埋められます。

## ビルドの準備

ビルドを EternalTD で使用するようにマッピングする前に、次のように設定する必要があります。

- ワールドを Void ワールドに設定します。Multiverse を使用している場合は、次のコマンドを使用できます。
  ```
  /mvcreate yourworldnamehere NORMAL -g VoidGen:.
  ```
- ビルドの周りに、ワールドボーダーを狭く設定します。
- ビルドの下に、高さが 1 ブロック、半径がワールドボーダーに達するのに十分な大きさ（推奨される半径は 200 ブロック）のバリヤシリンダーを作成します。WorldEdit を使用すると、次のように実行できます。
  ```
  //cyl barrier 200 1
  ```
- スポーンポイントを、ビルドの中央にある安全な場所に設定します。
- 次のルールを適用します。
    - /gamerule doWeatherCycle false
    - /gamerule doDaylightCycle false
    - /gamerule doMobSpawning false
    - /gamerule doFireTick false
    - /gamerule fireDamage false
    - /gamerule mobGriefing false
    - /gamerule disableRaids true
    - /gamerule announceAdvancements false
- マップのプレイエリアは、同じ Y レベルにする必要があります。マッピングプロセスを開始すると、それより上のレベルや下のレベルにあるものはすべて無視されます。

## EternalTD で使用するようにビルドをマッピングする

ビルドのプレイエリアを EternalTD で使用するようにマッピングするには、次の手順に従います。

1. ビルドを手動で測定し、プレイエリアのみを含めて、その他はすべて除外します。測定しながら、座標を書き留めます。
<br>プレイエリアには、マップの開始（モンスターのスポーン）セクションと終了セクションを含める必要があります。開始は通常、緑色のブロックで構築され、終了は赤いブロックで構築されます。


2. まず、ビルドの X 軸、Y 軸、Z 軸を測定します。マップのプレイエリアの角の 1 つに X 軸で立ち、表示される座標を書き留めます（これには、ブロック座標を使用できます）。X 軸の反対側に移動し、その座標を書き留めます。


3. Y 軸の場合、**プレイエリア** に立ち、表示される座標を書き留めます。


4. X 軸で行ったのと同じ手順を繰り返して、Z 軸を測定します。この手順を理解するのに役立つ例のイメージを以下に示します。
   ![Mapping Example](https://i.imgur.com/IZfh2Nt.jpeg)
   ご覧のとおり、プレイエリアとして使用したい座標のみを測定し、残りは無視しています。この例のように、プレイエリアを測定する際には、必ず開始と終了を含めてください。 <br>測定するプレイエリアが、一方の端では広く、もう一方の端では狭い場合は、最も広いセクションを測定する必要があります。


5. 測定が完了したら、次のようになります。
   ```
   X 軸: -57, 56
   Y 軸: 65
   Z 軸: 34, -34
   ```

6. これらの数字を最大から最小の順に並べ替えて、2 つの完全な XYZ 座標セットを取得します。
   ```
   56 65 34 (最大 XYZ 値)
   -57 65 -34 (最小 XYZ 値)
   ```

7. 次のコマンドを使用して、座標を選択します。
   ```
   /etd selectfloorcoordinate Xhigh Y Zhigh Xlow Y Zlow
   例: /etd selectfloorcoordinate 56 65 34 -57 65 -34
   ```

8. 座標が選択され、メモリに保存されました。エラーが発生した場合は、測定が間違っているか、プレイエリアが正しく構築されていない可能性があります。プレイエリアが正しくマッピングされていることを確認するには、次のコマンドを実行します。
   ```
   /etd register your_level_name.yml test
   ```
   「your_level_name」を、作成しようとしている実際のレベル/マップ名に置き換えます。すべてが正しく完了すると、プレイエリアのすべてのタイルに、バリヤが表示されます。


9. プレイエリアを確認して、すべてが正しく表示されていることを確認し、コマンドをもう一度実行します。ただし、今回は最後に *test* を付けないでください。
   ````
   /etd register your_level_name.yml
   ````
   これで、プレイエリアがレベルファイルに保存され、レベルファイルが使用できるようになります。

## ワールドフォルダの整理

ワールドフォルダには、EternalTD で使用されていないファイルとフォルダがいくつかあります。これらを削除することで、ワールドのサイズを縮小し、配布しやすくなります。

NORMAL 環境の場合:

ワールドを準備するには、次のファイルとフォルダを **保持** します。

1.  **region** フォルダ


2.  **data** フォルダ内にある **raids.dat**（コピーするときは、**data** フォルダ内に配置されていることを確認してください）


3.  **level.dat** ファイル

ワールドフォルダにある他のすべてのファイルとフォルダは安全に削除できます。これにより、ワールドが NORMAL 環境に正しく設定されます。

NETHER および THE_END 環境の場合:

ワールドを準備するには、次のファイルとフォルダを **保持** します。

1.  **DIM-1** フォルダ内にある **region** フォルダ（コピーするときは、**DIM-1** フォルダ内に配置されていることを確認してください）


2.  **data** フォルダ内にある **raids.dat**（コピーするときは、**data** フォルダ内に配置されていることを確認してください）


3.  **level.dat** ファイル

ワールドフォルダにある他のすべてのファイルとフォルダは安全に削除できます。これにより、ワールドが NETHER と THE_END 環境に正しく設定されます。

```



